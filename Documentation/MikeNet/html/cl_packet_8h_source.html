<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>DarkNet: C:/Users/Michael Pryor/Desktop/Deoxygen Files/Source Files/clPacket.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<h1>C:/Users/Michael Pryor/Desktop/Deoxygen Files/Source Files/clPacket.h</h1>  </div>
</div>
<div class="contents">
<div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#pragma once</span>
<a name="l00002"></a>00002 <span class="preprocessor"></span><span class="preprocessor">#include &quot;FullInclude.h&quot;</span>
<a name="l00003"></a>00003 <span class="keyword">class </span><a class="code" href="classcl_packet.html" title="Efficiently and safely stores and manipulates data.">clPacket</a>;
<a name="l00004"></a>00004 
<a name="l00012"></a>00012 <span class="preprocessor">#define _INT_PACKET_CATCH(operation) \</span>
<a name="l00013"></a>00013 <span class="preprocessor">        catch (clError &amp; erData) \</span>
<a name="l00014"></a>00014 <span class="preprocessor">        {\</span>
<a name="l00015"></a>00015 <span class="preprocessor">                if(internalUse == false) \</span>
<a name="l00016"></a>00016 <span class="preprocessor">                {\</span>
<a name="l00017"></a>00017 <span class="preprocessor">                        erData.GenEvent(cCommand); \</span>
<a name="l00018"></a>00018 <span class="preprocessor">                }\</span>
<a name="l00019"></a>00019 <span class="preprocessor">                else\</span>
<a name="l00020"></a>00020 <span class="preprocessor">                {\</span>
<a name="l00021"></a>00021 <span class="preprocessor">                        throw(erData); \</span>
<a name="l00022"></a>00022 <span class="preprocessor">                }\</span>
<a name="l00023"></a>00023 <span class="preprocessor">        }\</span>
<a name="l00024"></a>00024 <span class="preprocessor">        catch (...)\</span>
<a name="l00025"></a>00025 <span class="preprocessor">        {\</span>
<a name="l00026"></a>00026 <span class="preprocessor">                if(internalUse == false) \</span>
<a name="l00027"></a>00027 <span class="preprocessor">                {\</span>
<a name="l00028"></a>00028 <span class="preprocessor">                        clError erData; \</span>
<a name="l00029"></a>00029 <span class="preprocessor">                        erData.GenEvent(cCommand,operation,0,__LINE__,__FILE__); \</span>
<a name="l00030"></a>00030 <span class="preprocessor">                }\</span>
<a name="l00031"></a>00031 <span class="preprocessor">                else\</span>
<a name="l00032"></a>00032 <span class="preprocessor">                {\</span>
<a name="l00033"></a>00033 <span class="preprocessor">                        throw(-2); \</span>
<a name="l00034"></a>00034 <span class="preprocessor">                }\</span>
<a name="l00035"></a>00035 <span class="preprocessor">        }</span>
<a name="l00036"></a>00036 <span class="preprocessor"></span>
<a name="l00041"></a>00041 <span class="preprocessor">#define INT_PACKET_CATCH \</span>
<a name="l00042"></a>00042 <span class="preprocessor">        _INT_PACKET_CATCH(cUnexpected)</span>
<a name="l00043"></a>00043 <span class="preprocessor"></span>
<a name="l00050"></a>00050 <span class="preprocessor">#define _INT_PACKET_CATCH_RM(operation)\</span>
<a name="l00051"></a>00051 <span class="preprocessor">        catch (clError &amp; erData) \</span>
<a name="l00052"></a>00052 <span class="preprocessor">        {\</span>
<a name="l00053"></a>00053 <span class="preprocessor">                returnMe = -1; \</span>
<a name="l00054"></a>00054 <span class="preprocessor">                if(internalUse == false) \</span>
<a name="l00055"></a>00055 <span class="preprocessor">                {\</span>
<a name="l00056"></a>00056 <span class="preprocessor">                        erData.GenEvent(cCommand); \</span>
<a name="l00057"></a>00057 <span class="preprocessor">                }\</span>
<a name="l00058"></a>00058 <span class="preprocessor">                else\</span>
<a name="l00059"></a>00059 <span class="preprocessor">                {\</span>
<a name="l00060"></a>00060 <span class="preprocessor">                        throw(erData); \</span>
<a name="l00061"></a>00061 <span class="preprocessor">                }\</span>
<a name="l00062"></a>00062 <span class="preprocessor">        }\</span>
<a name="l00063"></a>00063 <span class="preprocessor">        catch (...)\</span>
<a name="l00064"></a>00064 <span class="preprocessor">        {\</span>
<a name="l00065"></a>00065 <span class="preprocessor">                returnMe = -1; \</span>
<a name="l00066"></a>00066 <span class="preprocessor">                \</span>
<a name="l00067"></a>00067 <span class="preprocessor">                if(internalUse == false) \</span>
<a name="l00068"></a>00068 <span class="preprocessor">                {\</span>
<a name="l00069"></a>00069 <span class="preprocessor">                        clError erData; \</span>
<a name="l00070"></a>00070 <span class="preprocessor">                        erData.GenEvent(cCommand,operation,-1,__LINE__,__FILE__); \</span>
<a name="l00071"></a>00071 <span class="preprocessor">                }\</span>
<a name="l00072"></a>00072 <span class="preprocessor">                else\</span>
<a name="l00073"></a>00073 <span class="preprocessor">                {\</span>
<a name="l00074"></a>00074 <span class="preprocessor">                        throw(-2); \</span>
<a name="l00075"></a>00075 <span class="preprocessor">                }\</span>
<a name="l00076"></a>00076 <span class="preprocessor">        }</span>
<a name="l00077"></a>00077 <span class="preprocessor"></span>
<a name="l00082"></a>00082 <span class="preprocessor">#define INT_PACKET_CATCH_RM \</span>
<a name="l00083"></a>00083 <span class="preprocessor">        _INT_PACKET_CATCH_RM(cUnexpected)</span>
<a name="l00084"></a>00084 <span class="preprocessor"></span>
<a name="l00126"></a><a class="code" href="classcl_packet.html">00126</a> <span class="keyword">class </span><a class="code" href="classcl_packet.html" title="Efficiently and safely stores and manipulates data.">clPacket</a>: <span class="keyword">public</span> <a class="code" href="classcl_critical_section.html" title="Critical section class with Enter and Leave methods.">clCriticalSection</a>
<a name="l00127"></a>00127 {
<a name="l00130"></a><a class="code" href="classcl_packet.html#a762faa296afee6d7a2e2960097c5ce74">00130</a>         <span class="keywordtype">bool</span> <a class="code" href="classcl_packet.html#a762faa296afee6d7a2e2960097c5ce74">dataPtrChanged</a>;
<a name="l00131"></a>00131 
<a name="l00133"></a><a class="code" href="classcl_packet.html#a32412f59a6982017de6fe0985b45cd72">00133</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="classcl_packet.html#a32412f59a6982017de6fe0985b45cd72">state</a>[4][4];
<a name="l00134"></a>00134 
<a name="l00143"></a><a class="code" href="classcl_packet.html#ad59ddd18ae83777a4a7510fc3d864298">00143</a>         <span class="keywordtype">bool</span> <a class="code" href="classcl_packet.html#ad59ddd18ae83777a4a7510fc3d864298">internalUse</a>;
<a name="l00144"></a>00144 
<a name="l00146"></a><a class="code" href="classcl_packet.html#a2aea03d8da8090d8a57103704527e94b">00146</a>         <span class="keywordtype">char</span> * <a class="code" href="classcl_packet.html#a2aea03d8da8090d8a57103704527e94b">data</a>;
<a name="l00147"></a>00147 
<a name="l00154"></a><a class="code" href="classcl_packet.html#ad6747c4b11681c31234b097ecf6bfbd1">00154</a>         <span class="keywordtype">size_t</span> <a class="code" href="classcl_packet.html#ad6747c4b11681c31234b097ecf6bfbd1">clientFrom</a>;
<a name="l00155"></a>00155 
<a name="l00161"></a><a class="code" href="classcl_packet.html#aca8f4193c73c164e5d2328890c1909aa">00161</a>         <span class="keywordtype">size_t</span> <a class="code" href="classcl_packet.html#aca8f4193c73c164e5d2328890c1909aa">operation</a>;
<a name="l00162"></a>00162 
<a name="l00168"></a><a class="code" href="classcl_packet.html#aa2f0888c560fea68d4cc8aee74ddf31d">00168</a>         <span class="keywordtype">size_t</span> <a class="code" href="classcl_packet.html#aa2f0888c560fea68d4cc8aee74ddf31d">instance</a>;
<a name="l00169"></a>00169 
<a name="l00176"></a><a class="code" href="classcl_packet.html#a03531361c454497423e4c41ea4e2e25a">00176</a>         <span class="keywordtype">size_t</span> <a class="code" href="classcl_packet.html#a03531361c454497423e4c41ea4e2e25a">clock</a>;
<a name="l00177"></a>00177 
<a name="l00183"></a><a class="code" href="classcl_packet.html#a72a08ff29e7658c2aee128c1b7400cf4">00183</a>         <span class="keyword">mutable</span> <span class="keywordtype">size_t</span> <a class="code" href="classcl_packet.html#a72a08ff29e7658c2aee128c1b7400cf4">cursorPos</a>;
<a name="l00184"></a>00184 
<a name="l00186"></a><a class="code" href="classcl_packet.html#ae7f2eb6c3be8fa9dc43136ebfb7c360e">00186</a>         <span class="keywordtype">size_t</span> <a class="code" href="classcl_packet.html#ae7f2eb6c3be8fa9dc43136ebfb7c360e">memSize</a>;
<a name="l00187"></a>00187 
<a name="l00191"></a><a class="code" href="classcl_packet.html#a828da12f55c75a7fce0f775b615bce65">00191</a>         <span class="keywordtype">size_t</span> <a class="code" href="classcl_packet.html#a828da12f55c75a7fce0f775b615bce65">usedSize</a>;
<a name="l00192"></a>00192 
<a name="l00193"></a>00193 
<a name="l00194"></a>00194         <span class="keywordtype">void</span> <a class="code" href="classcl_packet.html#a8410270424f1f89a991b4abcff8abb7a">_AddAdjustUsedSize</a>(<span class="keywordtype">size_t</span> addSize);
<a name="l00195"></a>00195 
<a name="l00196"></a>00196         <span class="keywordtype">void</span> <a class="code" href="classcl_packet.html#a910acd3263f391d8d7a0998a1fff8d51">InvCipher</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> * paraInData,<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> * paraOutData, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> Nn, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> * roundKey);
<a name="l00197"></a>00197         <span class="keywordtype">void</span> <a class="code" href="classcl_packet.html#ab71131c0cf55fcf5ffeeff826e69c18e">Cipher</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> * paraInData, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> * paraOutData, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> Nn, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> * roundKey);
<a name="l00198"></a>00198 
<a name="l00199"></a>00199         <span class="keywordtype">void</span> <a class="code" href="classcl_packet.html#a0498715a43af76e35d9cb67bcfdc8b25">_XORRoundKey</a>(<span class="keywordtype">int</span> round, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> * roundKey);
<a name="l00200"></a>00200         <span class="keywordtype">void</span> <a class="code" href="classcl_packet.html#af72caeaba0de8699017497c4847c9f25">_InvMixColumns</a>();
<a name="l00201"></a>00201         <span class="keywordtype">void</span> <a class="code" href="classcl_packet.html#a88d2b44bd16c1ed05fc5464ec83f1804">_MixColumns</a>();
<a name="l00202"></a>00202         <span class="keywordtype">void</span> <a class="code" href="classcl_packet.html#a330b069209244fb4cb73e6bf7352d4a2">_InvShiftRows</a>();
<a name="l00203"></a>00203         <span class="keywordtype">void</span> <a class="code" href="classcl_packet.html#a90eb10d441aebe64740edf4efbbc6e3c">_ShiftRows</a>();
<a name="l00204"></a>00204         <span class="keywordtype">void</span> <a class="code" href="classcl_packet.html#aa557b640d317e22e474edba007dafde6">_InvSubBytes</a>();
<a name="l00205"></a>00205         <span class="keywordtype">void</span> <a class="code" href="classcl_packet.html#ad78de62a24704f5176e67d447f65728d">_SubBytes</a>();
<a name="l00206"></a>00206         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="classcl_packet.html#ab7c15341e68ee6f6b46d86d6f4f05bfd">_gMul</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> a, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> b);
<a name="l00207"></a>00207 
<a name="l00208"></a>00208         <span class="keywordtype">void</span> <a class="code" href="classcl_packet.html#aaa567b17853dcd85bcf6b7150c0742a8">_Copy</a>(<span class="keyword">const</span> <a class="code" href="classcl_packet.html" title="Efficiently and safely stores and manipulates data.">clPacket</a> &amp; copyMe);
<a name="l00209"></a>00209         <span class="keywordtype">void</span> <a class="code" href="classcl_packet.html#aaa567b17853dcd85bcf6b7150c0742a8">_Copy</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> * copyMe);
<a name="l00210"></a>00210 
<a name="l00211"></a>00211         <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classcl_packet.html#abadc675ab3384b2d8f78063698d9f71d">_AddPacket</a>(<a class="code" href="classcl_packet.html" title="Efficiently and safely stores and manipulates data.">clPacket</a> &amp; destination, <span class="keyword">const</span> <a class="code" href="classcl_packet.html" title="Efficiently and safely stores and manipulates data.">clPacket</a> &amp; source);
<a name="l00212"></a>00212         <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classcl_packet.html#adb535ad70680ce9066cc8735422b700b">_AddWSABUF</a>(<a class="code" href="classcl_packet.html" title="Efficiently and safely stores and manipulates data.">clPacket</a> &amp; destination, <span class="keyword">const</span> WSABUF &amp; source, <span class="keywordtype">size_t</span> used);
<a name="l00213"></a>00213 
<a name="l00214"></a>00214         <span class="keywordtype">void</span> <a class="code" href="classcl_packet.html#a4924fb3a4b98be05b52fcbddb6bb5b79">_DefaultVars</a>(<span class="keywordtype">bool</span> full, <span class="keywordtype">bool</span> <a class="code" href="classcl_packet.html#ad59ddd18ae83777a4a7510fc3d864298">internalUse</a>);
<a name="l00215"></a>00215 
<a name="l00216"></a>00216 <span class="keyword">public</span>:
<a name="l00217"></a>00217         <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classcl_packet.html#a279c15b4a23f9d7f38a63428b4fce0d3">DecryptWSABUF</a>(WSABUF decryptMe, <span class="keywordtype">size_t</span> used, <span class="keywordtype">size_t</span> offset, INT_PTR key);
<a name="l00218"></a>00218 
<a name="l00219"></a>00219         <span class="comment">// Operators</span>
<a name="l00220"></a>00220         <a class="code" href="classcl_packet.html" title="Efficiently and safely stores and manipulates data.">clPacket</a> <a class="code" href="classcl_packet.html#a13adb28f7842a35d7a56c539c574782a">operator+ </a>(<span class="keyword">const</span> <a class="code" href="classcl_packet.html" title="Efficiently and safely stores and manipulates data.">clPacket</a> &amp;);
<a name="l00221"></a>00221         <span class="keywordtype">void</span> <a class="code" href="classcl_packet.html#a5e4c8791e640017fc5dcf277c73e45e4">operator+= </a>(<span class="keyword">const</span> <a class="code" href="classcl_packet.html" title="Efficiently and safely stores and manipulates data.">clPacket</a> &amp;);
<a name="l00222"></a>00222         <span class="keywordtype">bool</span> <a class="code" href="classcl_packet.html#a380aec75b2a96794432421a9d71a85fc">operator== </a>(<span class="keyword">const</span> <a class="code" href="classcl_packet.html" title="Efficiently and safely stores and manipulates data.">clPacket</a> &amp;) <span class="keyword">const</span>;
<a name="l00223"></a>00223 
<a name="l00224"></a>00224         <span class="keywordtype">bool</span> <a class="code" href="classcl_packet.html#a380aec75b2a96794432421a9d71a85fc">operator== </a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *) <span class="keyword">const</span>;
<a name="l00225"></a>00225 
<a name="l00226"></a>00226         <span class="comment">// WSABUF</span>
<a name="l00227"></a>00227         <a class="code" href="classcl_packet.html" title="Efficiently and safely stores and manipulates data.">clPacket</a> <a class="code" href="classcl_packet.html#a863fc6aa9800412ddfbb2b651ee1599c">addWSABUF</a> (<span class="keyword">const</span> WSABUF &amp;, <span class="keywordtype">size_t</span> used);
<a name="l00228"></a>00228         <span class="keywordtype">void</span> <a class="code" href="classcl_packet.html#a797b43526af8871088ca1294f06e89cb">addEqualWSABUF</a> (<span class="keyword">const</span> WSABUF &amp;, <span class="keywordtype">size_t</span> used);
<a name="l00229"></a>00229         <span class="keywordtype">bool</span> <a class="code" href="classcl_packet.html#a1047b158e89a5978f1e52427dcfa1485">compareWSABUF</a> (<span class="keyword">const</span> WSABUF &amp;, <span class="keywordtype">size_t</span> used);
<a name="l00230"></a>00230         <a class="code" href="classcl_packet.html" title="Efficiently and safely stores and manipulates data.">clPacket</a> &amp; <a class="code" href="classcl_packet.html#a818e4d5ec597c03c365544ee650342fd">equalWSABUF</a> (<span class="keyword">const</span> WSABUF &amp;, <span class="keywordtype">size_t</span> used, <span class="keywordtype">size_t</span> offset);
<a name="l00231"></a>00231 
<a name="l00232"></a>00232         <span class="comment">// Empty packet</span>
<a name="l00233"></a>00233         <span class="keywordtype">void</span> <a class="code" href="classcl_packet.html#a156ff3cef0c09fe258046f2961d43f43">ClearPacket</a>();
<a name="l00234"></a>00234         
<a name="l00235"></a>00235         <span class="comment">// Constructors</span>
<a name="l00236"></a>00236         <a class="code" href="classcl_packet.html#a4b87067b56c8528e1c2c63d5a02a9f2b">clPacket</a>();
<a name="l00237"></a>00237         <a class="code" href="classcl_packet.html#a4b87067b56c8528e1c2c63d5a02a9f2b">clPacket</a>(<span class="keywordtype">bool</span> <a class="code" href="classcl_packet.html#ad59ddd18ae83777a4a7510fc3d864298">internalUse</a>, <span class="keyword">const</span> WSABUF &amp; <a class="code" href="classcl_packet.html#a2aea03d8da8090d8a57103704527e94b">data</a>, <span class="keywordtype">size_t</span> used, <span class="keywordtype">size_t</span> offset, <span class="keywordtype">size_t</span> <a class="code" href="classcl_packet.html#ad6747c4b11681c31234b097ecf6bfbd1">clientFrom</a>, <span class="keywordtype">size_t</span> <a class="code" href="classcl_packet.html#aca8f4193c73c164e5d2328890c1909aa">operation</a>, <span class="keywordtype">size_t</span> <a class="code" href="classcl_packet.html#aa2f0888c560fea68d4cc8aee74ddf31d">instance</a>, clock_t <a class="code" href="classcl_packet.html#a03531361c454497423e4c41ea4e2e25a">clock</a>);
<a name="l00238"></a>00238         <span class="keywordtype">void</span> <a class="code" href="classcl_packet.html#aba34e14136f7fbc7fbf1ff05558d6bcf">LoadFull</a>(<span class="keyword">const</span> WSABUF &amp; paraData, <span class="keywordtype">size_t</span> paraUsed, <span class="keywordtype">size_t</span> paraOffset, <span class="keywordtype">size_t</span> paraClientFrom, <span class="keywordtype">size_t</span> paraOperation, <span class="keywordtype">size_t</span> paraInstance, clock_t paraClock);
<a name="l00239"></a>00239         <a class="code" href="classcl_packet.html#a4b87067b56c8528e1c2c63d5a02a9f2b">clPacket</a>(<span class="keywordtype">bool</span> <a class="code" href="classcl_packet.html#ad59ddd18ae83777a4a7510fc3d864298">internalUse</a>);
<a name="l00240"></a>00240 
<a name="l00241"></a>00241         <span class="comment">// Destructor</span>
<a name="l00242"></a>00242         <a class="code" href="classcl_packet.html#a0b826332475253c93b67259e0ad0f28f">~clPacket</a>();
<a name="l00243"></a>00243 
<a name="l00244"></a>00244         <span class="comment">// Copy constructors</span>
<a name="l00245"></a>00245         <a class="code" href="classcl_packet.html#a4b87067b56c8528e1c2c63d5a02a9f2b">clPacket</a>(<span class="keyword">const</span> <a class="code" href="classcl_packet.html" title="Efficiently and safely stores and manipulates data.">clPacket</a> &amp;);
<a name="l00246"></a>00246         <a class="code" href="classcl_packet.html#a4b87067b56c8528e1c2c63d5a02a9f2b">clPacket</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *);
<a name="l00247"></a>00247 
<a name="l00248"></a>00248         <a class="code" href="classcl_packet.html" title="Efficiently and safely stores and manipulates data.">clPacket</a> &amp; <a class="code" href="classcl_packet.html#a6a7a895eb482e1851a6aef99c350f991">operator= </a>(<span class="keyword">const</span> <a class="code" href="classcl_packet.html" title="Efficiently and safely stores and manipulates data.">clPacket</a> &amp;);
<a name="l00249"></a>00249         <a class="code" href="classcl_packet.html" title="Efficiently and safely stores and manipulates data.">clPacket</a> &amp; <a class="code" href="classcl_packet.html#a6a7a895eb482e1851a6aef99c350f991">operator= </a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *);
<a name="l00250"></a>00250 
<a name="l00251"></a>00251 
<a name="l00252"></a>00252         <span class="comment">// Shifts contents down by Amount, changing used size</span>
<a name="l00253"></a>00253         <span class="comment">// From StartPos to Amount will be erased</span>
<a name="l00254"></a>00254         <span class="keywordtype">int</span> <a class="code" href="classcl_packet.html#add8b3b823339434cf7f29beb482f61eb">Erase</a>(<span class="keywordtype">size_t</span> startPos, <span class="keywordtype">size_t</span> amount);
<a name="l00255"></a>00255 
<a name="l00256"></a>00256         <span class="comment">// Inserts empty space at cursor position, changing used size and memory size as necessary</span>
<a name="l00257"></a>00257         <span class="keywordtype">int</span> <a class="code" href="classcl_packet.html#a33a24a765801aa262e0827fce16029af">Insert</a>(<span class="keywordtype">size_t</span> amount);
<a name="l00258"></a>00258 
<a name="l00259"></a>00259         <span class="comment">// Add functions</span>
<a name="l00260"></a>00260         <span class="keywordtype">int</span> <a class="code" href="classcl_packet.html#a8915726c9a9ee7e81b370176137454c9">AddUnsignedInt</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>);
<a name="l00261"></a>00261         <span class="keywordtype">int</span> <a class="code" href="classcl_packet.html#a9832884423d1183944a344c59dfc2552">AddInt</a>(<span class="keywordtype">int</span>);
<a name="l00262"></a>00262         <span class="keywordtype">int</span> <a class="code" href="classcl_packet.html#aefaadde9e77023b92142bfd7a28ceefa">AddUnsignedLongInt</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span>);
<a name="l00263"></a>00263         <span class="keywordtype">int</span> <a class="code" href="classcl_packet.html#aa9f70adc5bcd174f9701739e41acc670">AddLongInt</a>(<span class="keywordtype">long</span> <span class="keywordtype">int</span>);
<a name="l00264"></a>00264         <span class="keywordtype">int</span> AddUnsignedLongLongInt(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span>);
<a name="l00265"></a>00265         <span class="keywordtype">int</span> AddLongLongInt(<span class="keywordtype">long</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span>);
<a name="l00266"></a>00266         <span class="keywordtype">int</span> <a class="code" href="classcl_packet.html#a9215183fbd65da82cf552ff51919a76c">AddFloat</a>(<span class="keywordtype">float</span>);
<a name="l00267"></a>00267         <span class="keywordtype">int</span> <a class="code" href="classcl_packet.html#a5e83537f977655d9afc938f5182f0c2f">AddUnsignedByte</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>);
<a name="l00268"></a>00268         <span class="keywordtype">int</span> <a class="code" href="classcl_packet.html#a3fbae0293b4199764d22913be3ae0aa3">AddByte</a>(<span class="keywordtype">char</span>);
<a name="l00269"></a>00269         <span class="keywordtype">int</span> <a class="code" href="classcl_packet.html#a2a0a304e699ca1d1ab83593b93664949">AddSignedByte</a>(<span class="keywordtype">signed</span> <span class="keywordtype">char</span>); <span class="comment">// Accommodate possibility that char = unsigned char (compiler option)</span>
<a name="l00270"></a>00270         <span class="keywordtype">int</span> <a class="code" href="classcl_packet.html#a1bb1cbacbe2c39de08400e9a5dcfc2e8">AddDouble</a>(<span class="keywordtype">double</span>);
<a name="l00271"></a>00271         <span class="keywordtype">int</span> <a class="code" href="classcl_packet.html#aa4e2ffa25f2ed629d4fb10296ab5524f">AddLongDouble</a>(<span class="keywordtype">long</span> <span class="keywordtype">double</span>);
<a name="l00272"></a>00272         <span class="keywordtype">int</span> <a class="code" href="classcl_packet.html#aacce8bbbbbe2185946aa74ceb0c6c3b1">AddShortInt</a>(<span class="keywordtype">short</span> <span class="keywordtype">int</span>);
<a name="l00273"></a>00273         <span class="keywordtype">int</span> <a class="code" href="classcl_packet.html#ab0fba72d2270c3ea2a851c7c51ded05a">AddUnsignedShortInt</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <span class="keywordtype">int</span>);
<a name="l00274"></a>00274         <span class="keywordtype">int</span> <a class="code" href="classcl_packet.html#a113af7111ac59641441467020bb82964">AddStringSTD</a>(std::string, <span class="keywordtype">bool</span> prefix);
<a name="l00275"></a>00275         <span class="keywordtype">int</span> <a class="code" href="classcl_packet.html#a97f4ce1bb94963897d6321e6807f5fa4">AddStringC</a>(<span class="keywordtype">char</span>*, <span class="keywordtype">size_t</span> length, <span class="keywordtype">bool</span> prefix);
<a name="l00276"></a>00276         <span class="keywordtype">int</span> <a class="code" href="classcl_packet.html#ad559a7061b808d8f1be09d0ec83368c2">AddSizeT</a>(<span class="keywordtype">size_t</span>);
<a name="l00277"></a>00277         <span class="keywordtype">int</span> <a class="code" href="classcl_packet.html#a959e9a57e454b3ffaf72cafeeff8a87b">AddClockT</a>(clock_t);
<a name="l00278"></a>00278 
<a name="l00279"></a>00279         <span class="comment">// Get functions</span>
<a name="l00280"></a>00280         <span class="keywordtype">size_t</span> <a class="code" href="classcl_packet.html#a8ff998006c4ca454238665898db8f759">GetPacketRemainder</a>() <span class="keyword">const</span>;
<a name="l00281"></a>00281         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classcl_packet.html#a7e2d4d291baff5bca9dc00fe0029bb7e">GetUnsignedInt</a>() <span class="keyword">const</span>;
<a name="l00282"></a>00282         <span class="keywordtype">int</span> <a class="code" href="classcl_packet.html#a52e5e0ce8f509d4e7ab8e184710ae098">GetInt</a>() <span class="keyword">const</span>;
<a name="l00283"></a>00283         <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> <a class="code" href="classcl_packet.html#a64a342bfc92aa63c751116c6df924cf1">GetUnsignedLongInt</a>() <span class="keyword">const</span>;
<a name="l00284"></a>00284         <span class="keywordtype">long</span> <span class="keywordtype">int</span> <a class="code" href="classcl_packet.html#a02ec4d01e5708e98dd24c669a60ab7b9">GetLongInt</a>() <span class="keyword">const</span>;
<a name="l00285"></a>00285         <span class="keywordtype">unsigned</span> __int64 <a class="code" href="classcl_packet.html#a71ca46527eff175dddebe470068d74ba">GetUnsignedLongLongInt</a>() <span class="keyword">const</span>;
<a name="l00286"></a>00286         __int64 <a class="code" href="classcl_packet.html#a2c29159772426429c58b3d0ff0ca8cfa">GetLongLongInt</a>() <span class="keyword">const</span>;
<a name="l00287"></a>00287         <span class="keywordtype">float</span> <a class="code" href="classcl_packet.html#aeca6ec22832cfa2abe0e9d3a98e23cf4">GetFloat</a>() <span class="keyword">const</span>;
<a name="l00288"></a>00288         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="classcl_packet.html#a3fb254480addaea2d093ae2e827d04fd">GetUnsignedByte</a>() <span class="keyword">const</span>;
<a name="l00289"></a>00289         <span class="keywordtype">char</span> <a class="code" href="classcl_packet.html#ab81387c639b6ad0ab448efad0c716dd4">GetByte</a>() <span class="keyword">const</span>;
<a name="l00290"></a>00290         <span class="keywordtype">signed</span> <span class="keywordtype">char</span> <a class="code" href="classcl_packet.html#aec7ddb799573b7189f2239166c4dd84e">GetSignedByte</a>() <span class="keyword">const</span>; <span class="comment">// Accommodate possibility that char = unsigned char (compiler option)</span>
<a name="l00291"></a>00291         <span class="keywordtype">double</span> <a class="code" href="classcl_packet.html#a0251b5faa85025087861b9dca945579d">GetDouble</a>() <span class="keyword">const</span>;
<a name="l00292"></a>00292         <span class="keywordtype">long</span> <span class="keywordtype">double</span> <a class="code" href="classcl_packet.html#a8955b3e9dd9ecdf003752c66461f1148">GetLongDouble</a>() <span class="keyword">const</span>;
<a name="l00293"></a>00293         <span class="keywordtype">short</span> <span class="keywordtype">int</span> <a class="code" href="classcl_packet.html#a8d60f3c9bb161e380b35f31c51b1cc8b">GetShortInt</a>() <span class="keyword">const</span>;
<a name="l00294"></a>00294         <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <span class="keywordtype">int</span> <a class="code" href="classcl_packet.html#a3dfc2b90d6ce80da6c7e765852929ede">GetUnsignedShortInt</a>() <span class="keyword">const</span>;
<a name="l00295"></a>00295         std::string <a class="code" href="classcl_packet.html#a87630eb068ee01f13300bb2de31b9295">GetStringSTD</a>(<span class="keywordtype">size_t</span> length) <span class="keyword">const</span>;
<a name="l00296"></a>00296         <span class="keywordtype">char</span> * <a class="code" href="classcl_packet.html#a6b1d6c37c7510c3c4b160aca5405e481">GetStringC</a>(<span class="keywordtype">size_t</span> length, <span class="keywordtype">bool</span> nullTerminated) <span class="keyword">const</span>;
<a name="l00297"></a>00297         <span class="keywordtype">int</span> <a class="code" href="classcl_packet.html#a6b1d6c37c7510c3c4b160aca5405e481">GetStringC</a>(<span class="keywordtype">char</span> * destination, <span class="keywordtype">size_t</span> length, <span class="keywordtype">bool</span> nullTerminated) <span class="keyword">const</span>;
<a name="l00298"></a>00298         <span class="keywordtype">size_t</span> <a class="code" href="classcl_packet.html#a68c8977780c26051bc77cf37c11cbe86">GetSizeT</a>() <span class="keyword">const</span>;
<a name="l00299"></a>00299         clock_t <a class="code" href="classcl_packet.html#a8ed27a6011aefce32a4fb520075477ef">GetClockT</a>() <span class="keyword">const</span>;
<a name="l00300"></a>00300 
<a name="l00301"></a>00301         <span class="comment">// Extra get/set functions</span>
<a name="l00302"></a>00302         <span class="keywordtype">size_t</span> <a class="code" href="classcl_packet.html#af660c12b933fa65dc2b74b787ec14f4b">GetMemorySize</a>() <span class="keyword">const</span>;
<a name="l00303"></a>00303         <span class="keywordtype">int</span> <a class="code" href="classcl_packet.html#ae704d9857eebbaa0f5882147b215eb95">SetMemorySize</a>(<span class="keywordtype">size_t</span> size);
<a name="l00304"></a>00304         <span class="keywordtype">int</span> <a class="code" href="classcl_packet.html#a30c601fdbe13def8647b3bdc1d235f5a">ChangeMemorySize</a>(<span class="keywordtype">size_t</span> size);
<a name="l00305"></a>00305         <span class="keywordtype">void</span> <a class="code" href="classcl_packet.html#a685017e57ca4d2173cc4a0fdb03475a9">SetUsedSize</a>(<span class="keywordtype">size_t</span> size);
<a name="l00306"></a>00306         <span class="keywordtype">size_t</span> <a class="code" href="classcl_packet.html#adc4a177d57e7bdb79370246bb341e8fb">GetUsedSize</a>() <span class="keyword">const</span>;
<a name="l00307"></a>00307         <span class="keywordtype">size_t</span> <a class="code" href="classcl_packet.html#ad2415ec2bddcc8f12b641f6255b54927">GetCursor</a>() <span class="keyword">const</span>;
<a name="l00308"></a>00308         <span class="keywordtype">void</span> <a class="code" href="classcl_packet.html#af04148d516845a1d496d8ed0c866ebf2">SetCursor</a>(<span class="keywordtype">size_t</span> position) <span class="keyword">const</span>;
<a name="l00309"></a>00309         <span class="keywordtype">void</span> <a class="code" href="classcl_packet.html#afc76438697370d4653edeaf67f4e532b">IncCursor</a>(<span class="keywordtype">size_t</span> amount) <span class="keyword">const</span>;
<a name="l00310"></a>00310         <span class="keywordtype">size_t</span> <a class="code" href="classcl_packet.html#a92b82b9501d4fdc92f325f7edc466f0e">GetClock</a>() <span class="keyword">const</span>;
<a name="l00311"></a>00311         <span class="keywordtype">void</span> <a class="code" href="classcl_packet.html#ae98210cd0246519ae3b92584e9ad87cd">SetClock</a>(<span class="keywordtype">size_t</span> <a class="code" href="classcl_packet.html#a03531361c454497423e4c41ea4e2e25a">clock</a>);
<a name="l00312"></a>00312         <span class="keywordtype">size_t</span> <a class="code" href="classcl_packet.html#a24a2aca2b3dbf7d66b4b5d67c5a12008">GetClientFrom</a>() <span class="keyword">const</span>;
<a name="l00313"></a>00313         <span class="keywordtype">size_t</span> <a class="code" href="classcl_packet.html#a70a70b03d89961e9cdee2a24c976e446">GetOperation</a>() <span class="keyword">const</span>;
<a name="l00314"></a>00314         <span class="keywordtype">size_t</span> <a class="code" href="classcl_packet.html#a59dd7f7bc3b90564d59ce4d55ea4b30d">GetInstance</a>() <span class="keyword">const</span>;
<a name="l00315"></a>00315 
<a name="l00316"></a>00316         <span class="keywordtype">char</span> * <a class="code" href="classcl_packet.html#a1708b2a12a5aaca6f55446f99688e337">GetDataPtr</a>();
<a name="l00317"></a>00317         <span class="keyword">const</span> <span class="keywordtype">char</span> * <a class="code" href="classcl_packet.html#a1708b2a12a5aaca6f55446f99688e337">GetDataPtr</a>() <span class="keyword">const</span>;
<a name="l00318"></a>00318         <span class="keywordtype">char</span> * <a class="code" href="classcl_packet.html#a8f3c35d7ed6f3b03a712e1e907025e35">GetDataPtrCopy</a>() <span class="keyword">const</span>;
<a name="l00319"></a>00319         <span class="keywordtype">void</span> <a class="code" href="classcl_packet.html#a26e4496d8da8cb9ebe3a2dd42a06e0c4">PtrIntoWSABUF</a>(WSABUF &amp; buffer) <span class="keyword">const</span>;
<a name="l00320"></a>00320         <span class="keywordtype">void</span> <a class="code" href="classcl_packet.html#a5d140a2618eecbf941ce3ffda24a50b8">CopyIntoWSABUF</a>(WSABUF &amp; buffer) <span class="keyword">const</span>;
<a name="l00321"></a>00321         <span class="keywordtype">bool</span> <a class="code" href="classcl_packet.html#a2e8f55300b8b58d53f208225a54a8f6d">GetInternalUse</a>() <span class="keyword">const</span>;
<a name="l00322"></a>00322         <span class="keywordtype">void</span> <a class="code" href="classcl_packet.html#a3cd45de4333e2d535181c2569ce1507f">SetInternalUse</a>(<span class="keywordtype">bool</span> <a class="code" href="classcl_packet.html#ad59ddd18ae83777a4a7510fc3d864298">internalUse</a>);
<a name="l00323"></a>00323 
<a name="l00324"></a>00324         <span class="keywordtype">void</span> <a class="code" href="classcl_packet.html#aeef389ed117bef8e7d4b11c2069e4440">SetDataPtr</a>(<span class="keywordtype">char</span> * newPtr, <span class="keywordtype">size_t</span> paraMemSize, <span class="keywordtype">size_t</span> paraUsedSize);
<a name="l00325"></a>00325         <span class="keywordtype">void</span> <a class="code" href="classcl_packet.html#a5ed44e573f27bd6bda9d91a73bb0950b">UnsetDataPtr</a>();
<a name="l00326"></a>00326 
<a name="l00327"></a>00327         <span class="comment">// Functions not affected by internalUse</span>
<a name="l00328"></a>00328         <span class="comment">// These exist so that the clPacket class is compatible with the rest of MikeNet</span>
<a name="l00329"></a>00329         <span class="keywordtype">int</span> <a class="code" href="classcl_packet.html#a036e90debbaa4e0dc1595d4776281a38">SendUDP</a>(<span class="keywordtype">size_t</span> <a class="code" href="classcl_packet.html#aa2f0888c560fea68d4cc8aee74ddf31d">instance</a>, <span class="keywordtype">size_t</span> clientID, <span class="keywordtype">bool</span> keep, <span class="keywordtype">bool</span> block);
<a name="l00330"></a>00330         <span class="keywordtype">int</span> <a class="code" href="classcl_packet.html#ad49a14ba3249d71c6a10542ecf4cfb99">SendTCP</a>(<span class="keywordtype">size_t</span> <a class="code" href="classcl_packet.html#aa2f0888c560fea68d4cc8aee74ddf31d">instance</a>, <span class="keywordtype">size_t</span> clientID, <span class="keywordtype">bool</span> keep, <span class="keywordtype">bool</span> block);
<a name="l00331"></a>00331         <span class="keywordtype">int</span> <a class="code" href="classcl_packet.html#abe68c4a74dd1102994872b1b069e8f6b">SendTCPAll</a>(<span class="keywordtype">size_t</span> <a class="code" href="classcl_packet.html#aa2f0888c560fea68d4cc8aee74ddf31d">instance</a>, <span class="keywordtype">bool</span> keep, <span class="keywordtype">bool</span> block, <span class="keywordtype">size_t</span> clientExclude);
<a name="l00332"></a>00332         <span class="keywordtype">int</span> <a class="code" href="classcl_packet.html#a5ce1f38e6ea85e60531bad0698c4a9b8">SendUDPAll</a>(<span class="keywordtype">size_t</span> <a class="code" href="classcl_packet.html#aa2f0888c560fea68d4cc8aee74ddf31d">instance</a>, <span class="keywordtype">bool</span> keep, <span class="keywordtype">bool</span> block, <span class="keywordtype">size_t</span> clientExclude);
<a name="l00333"></a>00333         <span class="keywordtype">int</span> <a class="code" href="classcl_packet.html#a9c315568dd95ab102dd36d787170bbf7">RecvTCP</a>(<span class="keywordtype">size_t</span> <a class="code" href="classcl_packet.html#aa2f0888c560fea68d4cc8aee74ddf31d">instance</a>, <span class="keywordtype">size_t</span> clientID); 
<a name="l00334"></a>00334         <span class="keywordtype">int</span> <a class="code" href="classcl_packet.html#a5a1f03c71113d6933dfadefcb8db4d21">RecvUDP</a>(<span class="keywordtype">size_t</span> <a class="code" href="classcl_packet.html#aa2f0888c560fea68d4cc8aee74ddf31d">instance</a>, <span class="keywordtype">size_t</span> clientID, <span class="keywordtype">size_t</span> operationID);
<a name="l00335"></a>00335         <span class="keywordtype">int</span> <a class="code" href="classcl_packet.html#a8afe464576803a3455084337e6207aec">GetInputData</a>(<span class="keywordtype">int</span> inputInstance);
<a name="l00336"></a>00336         <span class="keywordtype">int</span> <a class="code" href="classcl_packet.html#a17b6c64ff6861f430162305bcac8d29b">PlayData</a>(<span class="keywordtype">int</span> outputInstance);
<a name="l00337"></a>00337         <span class="keywordtype">int</span> <a class="code" href="classcl_packet.html#a6c17d9305ce8c7b90468b5d3e2ccf272">SetDataVolume</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> bitsPerSample, <span class="keywordtype">int</span> percentageChange);
<a name="l00338"></a>00338         <span class="keywordtype">int</span> <a class="code" href="classcl_packet.html#a9c0806d85bc4ebc028f4798c17737e47">GetDataVolume</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> bitsPerSample);
<a name="l00339"></a>00339 
<a name="l00340"></a>00340         <span class="comment">// Encryption/Decryption functions</span>
<a name="l00341"></a>00341         <span class="keywordtype">int</span> <a class="code" href="classcl_packet.html#a50da89228a51fbb53e45262671155cac">Encrypt</a>(INT_PTR key);
<a name="l00342"></a>00342         <span class="keywordtype">int</span> <a class="code" href="classcl_packet.html#a6e3ca3b8d5a971fe6830802b6fe2b066">Decrypt</a>(INT_PTR key);
<a name="l00343"></a>00343 
<a name="l00354"></a>00354         <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;
<a name="l00355"></a><a class="code" href="classcl_packet.html#a21cbdd56c8ec12e3077cfd529c719825">00355</a>         T <a class="code" href="classcl_packet.html#a21cbdd56c8ec12e3077cfd529c719825">Get</a>()<span class="keyword"> const</span>
<a name="l00356"></a>00356 <span class="keyword">        </span>{
<a name="l00357"></a>00357                 T returnMe = 0;
<a name="l00358"></a>00358                 <span class="keyword">const</span> <span class="keywordtype">char</span> * cCommand = <span class="stringliteral">&quot;clPacket::Get&quot;</span>;
<a name="l00359"></a>00359 
<a name="l00360"></a>00360                 <span class="keywordflow">try</span>
<a name="l00361"></a>00361                 {
<a name="l00362"></a>00362                         <a class="code" href="classcl_critical_section.html#a74ce03f2627f5a7df7e71d9f282f02cf">Enter</a>();
<a name="l00363"></a>00363                         <span class="keywordflow">try</span>
<a name="l00364"></a>00364                         {
<a name="l00365"></a>00365                                 <span class="comment">// Get the new end cursor position after adding</span>
<a name="l00366"></a>00366                                 <span class="keywordtype">size_t</span> endPos = <a class="code" href="classcl_packet.html#ad2415ec2bddcc8f12b641f6255b54927">GetCursor</a>() + <span class="keyword">sizeof</span>(returnMe);
<a name="l00367"></a>00367 
<a name="l00368"></a>00368                                 <span class="comment">// Prevent going out of bounds</span>
<a name="l00369"></a>00369                                 _ErrorException((endPos &gt; <a class="code" href="classcl_packet.html#adc4a177d57e7bdb79370246bb341e8fb">GetUsedSize</a>()),<span class="stringliteral">&quot;getting data from a packet. The end of the packet was reached before all data could be extracted from the packet&quot;</span>,0,__LINE__,__FILE__);
<a name="l00370"></a>00370 
<a name="l00371"></a>00371                                 <span class="comment">// Copy data into Return</span>
<a name="l00372"></a>00372                                 returnMe = *(T*)&amp;<a class="code" href="classcl_packet.html#a2aea03d8da8090d8a57103704527e94b">data</a>[<a class="code" href="classcl_packet.html#ad2415ec2bddcc8f12b641f6255b54927">GetCursor</a>()];
<a name="l00373"></a>00373 
<a name="l00374"></a>00374                                 <span class="comment">// Move cursor</span>
<a name="l00375"></a>00375                                 <a class="code" href="classcl_packet.html#af04148d516845a1d496d8ed0c866ebf2">SetCursor</a>(endPos);
<a name="l00376"></a>00376                         }
<a name="l00377"></a>00377                         <span class="comment">// Release control of all objects before throwing final exception</span>
<a name="l00378"></a>00378                         <span class="keywordflow">catch</span>(<a class="code" href="structcl_error.html">clError</a> &amp; Error){<a class="code" href="classcl_critical_section.html#a50f857742767ccba00fb6acfec878c88">Leave</a>(); <span class="keywordflow">throw</span>(Error);}
<a name="l00379"></a>00379                         <span class="keywordflow">catch</span>(...){<a class="code" href="classcl_critical_section.html#a50f857742767ccba00fb6acfec878c88">Leave</a>();     <span class="keywordflow">throw</span>(-1);}
<a name="l00380"></a>00380 
<a name="l00381"></a>00381                         <a class="code" href="classcl_critical_section.html#a50f857742767ccba00fb6acfec878c88">Leave</a>();
<a name="l00382"></a>00382                 }
<a name="l00383"></a>00383                 INT_PACKET_CATCH_RM
<a name="l00384"></a>00384 
<a name="l00385"></a>00385                 <span class="keywordflow">return</span>(returnMe);
<a name="l00386"></a>00386         }
<a name="l00387"></a>00387 
<a name="l00395"></a>00395         <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;
<a name="l00396"></a><a class="code" href="classcl_packet.html#a019d9727a1c32bbfb7f73f6deee95de6">00396</a>         T <a class="code" href="classcl_packet.html#a019d9727a1c32bbfb7f73f6deee95de6">GetPrefix</a>()<span class="keyword"> const</span>
<a name="l00397"></a>00397 <span class="keyword">        </span>{
<a name="l00398"></a>00398                 T returnMe = 0;
<a name="l00399"></a>00399                 <span class="keyword">const</span> <span class="keywordtype">char</span> * cCommand = <span class="stringliteral">&quot;clPacket::GetPrefix&quot;</span>;
<a name="l00400"></a>00400 
<a name="l00401"></a>00401                 <span class="keywordflow">try</span>
<a name="l00402"></a>00402                 {
<a name="l00403"></a>00403                         <a class="code" href="classcl_critical_section.html#a74ce03f2627f5a7df7e71d9f282f02cf">Enter</a>();
<a name="l00404"></a>00404                         <span class="keywordflow">try</span>
<a name="l00405"></a>00405                         {
<a name="l00406"></a>00406                                 <span class="comment">// Get the new end cursor position after adding</span>
<a name="l00407"></a>00407                                 <span class="keywordtype">size_t</span> endPos = 0 + <span class="keyword">sizeof</span>(returnMe);
<a name="l00408"></a>00408 
<a name="l00409"></a>00409                                 <span class="comment">// Prevent going out of bounds</span>
<a name="l00410"></a>00410                                 _ErrorException((endPos &gt; <a class="code" href="classcl_packet.html#adc4a177d57e7bdb79370246bb341e8fb">GetUsedSize</a>()),<span class="stringliteral">&quot;getting data from a packet. The end of the packet was reached before all data could be extracted from the packet&quot;</span>,0,__LINE__,__FILE__);
<a name="l00411"></a>00411 
<a name="l00412"></a>00412                                 <span class="comment">// Copy data into Return</span>
<a name="l00413"></a>00413                                 returnMe = *(T*)&amp;<a class="code" href="classcl_packet.html#a2aea03d8da8090d8a57103704527e94b">data</a>[0];
<a name="l00414"></a>00414                         }
<a name="l00415"></a>00415                         <span class="comment">// Release control of all objects before throwing final exception</span>
<a name="l00416"></a>00416                         <span class="keywordflow">catch</span>(<a class="code" href="structcl_error.html">clError</a> &amp; Error){<a class="code" href="classcl_critical_section.html#a50f857742767ccba00fb6acfec878c88">Leave</a>(); <span class="keywordflow">throw</span>(Error);}
<a name="l00417"></a>00417                         <span class="keywordflow">catch</span>(...){<a class="code" href="classcl_critical_section.html#a50f857742767ccba00fb6acfec878c88">Leave</a>();     <span class="keywordflow">throw</span>(-1);}
<a name="l00418"></a>00418 
<a name="l00419"></a>00419                         <a class="code" href="classcl_critical_section.html#a50f857742767ccba00fb6acfec878c88">Leave</a>();
<a name="l00420"></a>00420                 }
<a name="l00421"></a>00421                 INT_PACKET_CATCH_RM
<a name="l00422"></a>00422 
<a name="l00423"></a>00423                 <span class="keywordflow">return</span>(returnMe);
<a name="l00424"></a>00424         }
<a name="l00425"></a>00425 
<a name="l00440"></a>00440         <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;
<a name="l00441"></a><a class="code" href="classcl_packet.html#a4c5b45a08a91bcddfb96263258229ab3">00441</a>         <span class="keywordtype">int</span> <a class="code" href="classcl_packet.html#a4c5b45a08a91bcddfb96263258229ab3">Add</a>(T add)
<a name="l00442"></a>00442         {
<a name="l00443"></a>00443                 <span class="keyword">const</span> <span class="keywordtype">char</span> * cCommand = <span class="stringliteral">&quot;clPacket::Add&quot;</span>;
<a name="l00444"></a>00444                 <span class="keywordtype">int</span> returnMe = 0;
<a name="l00445"></a>00445 
<a name="l00446"></a>00446                 <a class="code" href="classcl_critical_section.html#a74ce03f2627f5a7df7e71d9f282f02cf">Enter</a>();
<a name="l00447"></a>00447                 <span class="keywordflow">try</span>
<a name="l00448"></a>00448                 {
<a name="l00449"></a>00449                         <span class="keywordflow">try</span>
<a name="l00450"></a>00450                         {
<a name="l00451"></a>00451                                 <span class="comment">// Get the new end position after adding</span>
<a name="l00452"></a>00452                                 <span class="keywordtype">size_t</span> endPos = <a class="code" href="classcl_packet.html#ad2415ec2bddcc8f12b641f6255b54927">GetCursor</a>() + <span class="keyword">sizeof</span>(add);
<a name="l00453"></a>00453 
<a name="l00454"></a>00454                                 <span class="comment">// Increase memory size as necassary</span>
<a name="l00455"></a>00455                                 <span class="keywordflow">if</span>(endPos &gt; <a class="code" href="classcl_packet.html#af660c12b933fa65dc2b74b787ec14f4b">GetMemorySize</a>())
<a name="l00456"></a>00456                                 {
<a name="l00457"></a>00457                                         <a class="code" href="classcl_packet.html#a30c601fdbe13def8647b3bdc1d235f5a">ChangeMemorySize</a>(endPos);
<a name="l00458"></a>00458                                 }
<a name="l00459"></a>00459 
<a name="l00460"></a>00460                                 <span class="comment">// Increase used size as necassary</span>
<a name="l00461"></a>00461                                 <span class="keywordflow">if</span>(endPos &gt; <a class="code" href="classcl_packet.html#adc4a177d57e7bdb79370246bb341e8fb">GetUsedSize</a>())
<a name="l00462"></a>00462                                 {
<a name="l00463"></a>00463                                         <a class="code" href="classcl_packet.html#a685017e57ca4d2173cc4a0fdb03475a9">SetUsedSize</a>(endPos);
<a name="l00464"></a>00464                                 }
<a name="l00465"></a>00465 
<a name="l00466"></a>00466                                 <span class="comment">// add each byte of &#39;add&#39; to the buffer.</span>
<a name="l00467"></a>00467                                 *(T*)&amp;<a class="code" href="classcl_packet.html#a2aea03d8da8090d8a57103704527e94b">data</a>[<a class="code" href="classcl_packet.html#ad2415ec2bddcc8f12b641f6255b54927">GetCursor</a>()] = add;  
<a name="l00468"></a>00468 
<a name="l00469"></a>00469                                 <span class="comment">// Move cursor</span>
<a name="l00470"></a>00470                                 <a class="code" href="classcl_packet.html#af04148d516845a1d496d8ed0c866ebf2">SetCursor</a>(endPos);
<a name="l00471"></a>00471                         }
<a name="l00472"></a>00472                         <span class="comment">// Release control of all objects before throwing final exception</span>
<a name="l00473"></a>00473                         <span class="keywordflow">catch</span>(<a class="code" href="structcl_error.html">clError</a> &amp; Error){<a class="code" href="classcl_critical_section.html#a50f857742767ccba00fb6acfec878c88">Leave</a>(); <span class="keywordflow">throw</span>(Error);}
<a name="l00474"></a>00474                         <span class="keywordflow">catch</span>(...){<a class="code" href="classcl_critical_section.html#a50f857742767ccba00fb6acfec878c88">Leave</a>();     <span class="keywordflow">throw</span>(-1);}
<a name="l00475"></a>00475                         <a class="code" href="classcl_critical_section.html#a50f857742767ccba00fb6acfec878c88">Leave</a>();
<a name="l00476"></a>00476                 }
<a name="l00477"></a>00477                 INT_PACKET_CATCH_RM
<a name="l00478"></a>00478 
<a name="l00479"></a>00479                 <span class="keywordflow">return</span>(returnMe);
<a name="l00480"></a>00480         }
<a name="l00481"></a>00481 };
<a name="l00482"></a>00482 
<a name="l00483"></a>00483 <span class="comment">// Helper function used in mnEncryption</span>
<a name="l00484"></a>00484 <span class="keywordtype">void</span> _AddDataEnc(<a class="code" href="classcl_packet.html" title="Efficiently and safely stores and manipulates data.">clPacket</a> &amp; packet, INT_PTR add);
</pre></div></div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Friends</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Fri Jul 2 2010 10:34:06 for DarkNet by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
