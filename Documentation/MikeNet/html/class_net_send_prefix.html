<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>DarkNet: NetSendPrefix Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a>  </div>
  <div class="headertitle">
<h1>NetSendPrefix Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="NetSendPrefix" --><!-- doxytag: inherits="NetSend" -->
<p>Send class where packets sent have a prefix.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_net_send_prefix_8h_source.html">NetSendPrefix.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for NetSendPrefix:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_net_send_prefix.png" usemap="#NetSendPrefix_map" alt=""/>
  <map id="NetSendPrefix_map" name="NetSendPrefix_map">
<area href="class_net_send.html" alt="NetSend" shape="rect" coords="0,56,94,80"/>
<area href="class_critical_section.html" alt="CriticalSection" shape="rect" coords="0,0,94,24"/>
</map>
</div>

<p><a href="class_net_send_prefix-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_net_send_prefix.html#ab162e1f6996ef9059b781a2c3afd71f6">NetSendPrefix</a> (const <a class="el" href="class_packet.html">Packet</a> *<a class="el" href="class_net_send_prefix.html#a90e39e80bb44c4bdd111ca489a66094e">packet</a>, bool <a class="el" href="class_net_send.html#afd9338a4ab3648178d0b5c816a0852d1">block</a>, const <a class="el" href="class_packet.html">Packet</a> &amp;<a class="el" href="class_net_send_prefix.html#a56b813ee0be98a6a23bdcc00863b8bba">prefix</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor.  <a href="#ab162e1f6996ef9059b781a2c3afd71f6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad4c8d156cd9eea6897d09bdfbdda3e0c"></a><!-- doxytag: member="NetSendPrefix::~NetSendPrefix" ref="ad4c8d156cd9eea6897d09bdfbdda3e0c" args="()" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_net_send_prefix.html#ad4c8d156cd9eea6897d09bdfbdda3e0c">~NetSendPrefix</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destructor. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">WSABUF *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_net_send_prefix.html#a643683e8ce7bf977c076ad6eb493df99">GetBuffer</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Retrieves an array of WSABUF structures containing data to send (<a class="el" href="class_net_send_prefix.html#a5826e25aab8cc3719dca77eb991d7861" title="Array of buffers to be sent.">NetSendPrefix::buffers</a>).  <a href="#a643683e8ce7bf977c076ad6eb493df99"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_net_send_prefix.html#ad6743175990adfcc2fd655f5d17d49e3">GetBufferAmount</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Retrieves the number of elements in the array returned by <a class="el" href="class_net_send_prefix.html#a643683e8ce7bf977c076ad6eb493df99" title="Retrieves an array of WSABUF structures containing data to send (NetSendPrefix::buffers).">GetBuffer()</a>.  <a href="#ad6743175990adfcc2fd655f5d17d49e3"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_net_send_prefix.html#affd38aa5e686b11b8dc172500068cbd0">TestClass</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Tests class.  <a href="#affd38aa5e686b11b8dc172500068cbd0"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a56b813ee0be98a6a23bdcc00863b8bba"></a><!-- doxytag: member="NetSendPrefix::prefix" ref="a56b813ee0be98a6a23bdcc00863b8bba" args="" -->
<a class="el" href="class_packet.html">Packet</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_net_send_prefix.html#a56b813ee0be98a6a23bdcc00863b8bba">prefix</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Stores prefix. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a90e39e80bb44c4bdd111ca489a66094e"></a><!-- doxytag: member="NetSendPrefix::packet" ref="a90e39e80bb44c4bdd111ca489a66094e" args="" -->
const <a class="el" href="class_packet.html">Packet</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_net_send_prefix.html#a90e39e80bb44c4bdd111ca489a66094e">packet</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Pointer to packet containing data to be sent. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">WSABUF&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_net_send_prefix.html#a5826e25aab8cc3719dca77eb991d7861">buffers</a> [<a class="el" href="class_net_send_prefix.html#a6cba1d99ccc9592bfecf1c0194a4cd8c">NUM_BUFFERS</a>]</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Array of buffers to be sent.  <a href="#a5826e25aab8cc3719dca77eb991d7861"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6cba1d99ccc9592bfecf1c0194a4cd8c"></a><!-- doxytag: member="NetSendPrefix::NUM_BUFFERS" ref="a6cba1d99ccc9592bfecf1c0194a4cd8c" args="" -->
static const size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_net_send_prefix.html#a6cba1d99ccc9592bfecf1c0194a4cd8c">NUM_BUFFERS</a> = 2</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Number of elements in <a class="el" href="class_net_send_prefix.html#a5826e25aab8cc3719dca77eb991d7861" title="Array of buffers to be sent.">NetSendPrefix::buffers</a>. <br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Send class where packets sent have a prefix. </p>
<dl class="remark"><dt><b>Remarks:</b></dt><dd>Michael Pryor, 6/28/2010.</dd></dl>
<p>This class makes use of scatter/gather I/O to maximize efficiency. </p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ab162e1f6996ef9059b781a2c3afd71f6"></a><!-- doxytag: member="NetSendPrefix::NetSendPrefix" ref="ab162e1f6996ef9059b781a2c3afd71f6" args="(const Packet *packet, bool block, const Packet &amp;prefix)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NetSendPrefix::NetSendPrefix </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_packet.html">Packet</a> *&nbsp;</td>
          <td class="paramname"> <em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_packet.html">Packet</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>prefix</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Constructor. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>packet</em>&nbsp;</td><td><a class="el" href="class_packet.html" title="Efficiently and safely stores and manipulates data.">Packet</a> to send. Pointer must remain valid for lifetime of object. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>block</em>&nbsp;</td><td>If true packet will be sent synchronously, if false packet will be sent asynchronously. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>prefix</em>&nbsp;</td><td>Prefix to place at start of packet. Data is copied, so reference does not need to remain valid for lifetime of object. </td></tr>
  </table>
  </dd>
</dl>

<p><p>this-&gt;prefix will remain valid until this object is destroyed. This object won't be destroyed until send operation is completed.</p>
<p>If the send operation blocks until completion then the send operation does not need its own buffer because the send operation will be completed before further usage of the packet buffer takes place. The destructor MUST NOT deallocate the buffer memory since this will be done automatically by the destructors of the objects that the buffer points to (we are not doing any copying).</p>
<p>If the send operation does not block until completion then it needs its own buffer, which is allocated from the heap and MUST be deallocated by the destructor. This is necessary because the packet buffer may be used by another thread during sending.</p>
</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a643683e8ce7bf977c076ad6eb493df99"></a><!-- doxytag: member="NetSendPrefix::GetBuffer" ref="a643683e8ce7bf977c076ad6eb493df99" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">WSABUF * NetSendPrefix::GetBuffer </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Retrieves an array of WSABUF structures containing data to send (<a class="el" href="class_net_send_prefix.html#a5826e25aab8cc3719dca77eb991d7861" title="Array of buffers to be sent.">NetSendPrefix::buffers</a>). </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>an array of WSABUF containing data to be sent. The sent packet or data stream will consist of a combination of all elements of the array, starting from element 0. </dd></dl>

<p>Implements <a class="el" href="class_net_send.html#a40c113ecb3007d5d397b2c69887bc4fa">NetSend</a>.</p>

</div>
</div>
<a class="anchor" id="ad6743175990adfcc2fd655f5d17d49e3"></a><!-- doxytag: member="NetSendPrefix::GetBufferAmount" ref="ad6743175990adfcc2fd655f5d17d49e3" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t NetSendPrefix::GetBufferAmount </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Retrieves the number of elements in the array returned by <a class="el" href="class_net_send_prefix.html#a643683e8ce7bf977c076ad6eb493df99" title="Retrieves an array of WSABUF structures containing data to send (NetSendPrefix::buffers).">GetBuffer()</a>. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>number of elements. </dd></dl>

<p>Implements <a class="el" href="class_net_send.html#af105bc7adc95d2fa981f580e16fc4c2e">NetSend</a>.</p>

</div>
</div>
<a class="anchor" id="affd38aa5e686b11b8dc172500068cbd0"></a><!-- doxytag: member="NetSendPrefix::TestClass" ref="affd38aa5e686b11b8dc172500068cbd0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool NetSendPrefix::TestClass </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Tests class. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if no problems while testing were found, false if not. Note that not all tests automatically check for problems so some tests require manual verification. </dd></dl>

<p>Reimplemented from <a class="el" href="class_net_send.html#ab93dd370f3117ed82eec3993ba0be71d">NetSend</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a5826e25aab8cc3719dca77eb991d7861"></a><!-- doxytag: member="NetSendPrefix::buffers" ref="a5826e25aab8cc3719dca77eb991d7861" args="[NUM_BUFFERS]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">WSABUF <a class="el" href="class_net_send_prefix.html#a5826e25aab8cc3719dca77eb991d7861">NetSendPrefix::buffers</a>[<a class="el" href="class_net_send_prefix.html#a6cba1d99ccc9592bfecf1c0194a4cd8c">NUM_BUFFERS</a>]<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Array of buffers to be sent. </p>
<ul>
<li>e0 is packet prefix</li>
<li>e1 is packet data. </li>
</ul>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>C:/Users/Michael Pryor/Documents/Programming 09/MikeNet/Project/MikeNet/<a class="el" href="_net_send_prefix_8h_source.html">NetSendPrefix.h</a></li>
<li>C:/Users/Michael Pryor/Documents/Programming 09/MikeNet/Project/MikeNet/NetSendPrefix.cpp</li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Friends</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Sat Sep 25 2010 22:10:21 for DarkNet by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
