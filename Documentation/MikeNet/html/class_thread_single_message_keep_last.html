<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>DarkNet: ThreadSingleMessageKeepLast Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle">
<h1>ThreadSingleMessageKeepLast Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="ThreadSingleMessageKeepLast" --><!-- doxytag: inherits="ThreadSingleMessage" -->
<p>Message based thread where only the last message is stored and others are cleaned up.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_thread_single_message_keep_last_8h_source.html">ThreadSingleMessageKeepLast.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for ThreadSingleMessageKeepLast:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_thread_single_message_keep_last.png" usemap="#ThreadSingleMessageKeepLast_map" alt=""/>
  <map id="ThreadSingleMessageKeepLast_map" name="ThreadSingleMessageKeepLast_map">
<area href="class_thread_single_message.html" alt="ThreadSingleMessage" shape="rect" coords="0,56,190,80"/>
<area href="class_thread_single.html" alt="ThreadSingle" shape="rect" coords="0,0,190,24"/>
</map>
</div>

<p><a href="class_thread_single_message_keep_last-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_thread_single_message_keep_last.html#ac5e6299f170af6aaf0e3e581304e9314">ThreadSingleMessageKeepLast</a> (LPTHREAD_START_ROUTINE function, void *<a class="el" href="class_thread_single.html#ad0aa14d604bca6bb1ba5ec5721cd859c">parameter</a>, bool <a class="el" href="class_thread_single.html#a710b7388ce616e858f776efab32fbe61">suspended</a>, size_t <a class="el" href="class_thread_single.html#a43cc2e11c57294cfcf6f61ef9754f70b">manualThreadID</a>=0)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor.  <a href="#ac5e6299f170af6aaf0e3e581304e9314"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3bf4e0ee774e4fec20f3fa94d7769fcd"></a><!-- doxytag: member="ThreadSingleMessageKeepLast::~ThreadSingleMessageKeepLast" ref="a3bf4e0ee774e4fec20f3fa94d7769fcd" args="()" -->
virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_thread_single_message_keep_last.html#a3bf4e0ee774e4fec20f3fa94d7769fcd">~ThreadSingleMessageKeepLast</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destructor. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_thread_single_message_keep_last.html#a27f81a79a325c68fb5257875e074924c">PostMessageItem</a> (<a class="el" href="class_thread_message_item.html">ThreadMessageItem</a> *message, <a class="el" href="class_thread_message_item.html">ThreadMessageItem</a> **<a class="el" href="class_thread_single_message_keep_last.html#ae36c3229c8538b56a7fc4740a5d58d4f">lastMessage</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Posts a message to the thread to be received using <a class="el" href="class_thread_single_message.html#ac6385cefd086e9c40aa28241caa08d09" title="Retrieves a message from the message queue.">ThreadSingleMessage::GetMessageItem()</a>.  <a href="#a27f81a79a325c68fb5257875e074924c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_thread_single_message_keep_last.html#a75fcc872de92fedf3dc60719d2d44761">PostMessageItem</a> (<a class="el" href="class_thread_message_item.html">ThreadMessageItem</a> *message)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Posts a message to the thread to be received using <a class="el" href="class_thread_single_message.html#ac6385cefd086e9c40aa28241caa08d09" title="Retrieves a message from the message queue.">ThreadSingleMessage::GetMessageItem()</a>.  <a href="#a75fcc872de92fedf3dc60719d2d44761"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="class_thread_message_item.html">ThreadMessageItem</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_thread_single_message_keep_last.html#a84eda7c55772bdba5344de44b7ae1f1f">GetLastMessage</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Retrieves the last message that was sent to the thread.  <a href="#a84eda7c55772bdba5344de44b7ae1f1f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="class_thread_message_item.html">ThreadMessageItem</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_thread_single_message_keep_last.html#a33163bff070c44bd1d7bcaa68e678698">ExtractLastMessage</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Extracts the last message that was sent to the controller thread, so that it will not be automatically cleaned up.  <a href="#a33163bff070c44bd1d7bcaa68e678698"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_thread_single_message_keep_last.html#a408f2a12f684c32cb640c3b17f74f933">TerminateFriendly</a> (bool block)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Requests that the thread exits.  <a href="#a408f2a12f684c32cb640c3b17f74f933"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_thread_single_message_keep_last.html#adbab8972129d51d509f20d5d575a393b">TestClass</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Tests class.  <a href="#adbab8972129d51d509f20d5d575a393b"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_thread_message_item.html">ThreadMessageItem</a> **&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_thread_single_message_keep_last.html#a464796f2eb757053e4c3befc9022ab48">GetLastMessageToActOn</a> (<a class="el" href="class_thread_message_item.html">ThreadMessageItem</a> **customLastMessage)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Retrieves the last message that should be acted on.  <a href="#a464796f2eb757053e4c3befc9022ab48"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_thread_single_message_keep_last.html#a91d926ec436b2d29678d0da6bc37fef7">CleanupLastMessage</a> (<a class="el" href="class_thread_message_item.html">ThreadMessageItem</a> **lastMessageToActOn)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Cleans up the message that was last sent.  <a href="#a91d926ec436b2d29678d0da6bc37fef7"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_thread_message_item.html">ThreadMessageItem</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_thread_single_message_keep_last.html#ae36c3229c8538b56a7fc4740a5d58d4f">lastMessage</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Last message that was sent to thread.  <a href="#ae36c3229c8538b56a7fc4740a5d58d4f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_thread_message_item.html">ThreadMessageItem</a> **&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_thread_single_message_keep_last.html#a5a6db5f1ddd6002413c1424d87ff2152">ptrLastMessage</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Points to <a class="el" href="class_thread_single_message_keep_last.html#ae36c3229c8538b56a7fc4740a5d58d4f" title="Last message that was sent to thread.">ThreadSingleMessageKeepLast::lastMessage</a> or a custom last message.  <a href="#a5a6db5f1ddd6002413c1424d87ff2152"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Message based thread where only the last message is stored and others are cleaned up. </p>
<p>The system that ensures messages are cleaned up correctly is rather complex. Either the thread (receiver) or the sender may clean up a message. A message is deemed to be still in use by the sender (and therefore not cleaned up by the receiver) if it is stored in <a class="el" href="class_thread_single_message_keep_last.html#ae36c3229c8538b56a7fc4740a5d58d4f" title="Last message that was sent to thread.">ThreadSingleMessageKeepLast::lastMessage</a>. A message is stored here if it is the last message to be sent using <a class="el" href="class_thread_single_message_keep_last.html#a27f81a79a325c68fb5257875e074924c" title="Posts a message to the thread to be received using ThreadSingleMessage::GetMessageItem().">ThreadSingleMessageKeepLast::PostMessageItem</a>. If two messages are sent simultaneously then the sender will attempt to cleanup the first message that was sent, but if the receiver has not finished using it then the sender will not clean it up. When the receiver finishes using the message, it will see that the sender has finished using the message, and so it will clean up the message itself. However, if the sender has not finished using the message then the receiver will not clean it up, and will let the sender do this at a later time. Note that in the event that the last message sent does not change (i.e. New messages are not sent), then it will always be deemed to be in use by the sender, so that users can poll on its status and determine whether its operation has completed. In this case the destructor of this object will clean it up.</p>
<dl class="remark"><dt><b>Remarks:</b></dt><dd>Michael Pryor, 9/17/2010. </dd></dl>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ac5e6299f170af6aaf0e3e581304e9314"></a><!-- doxytag: member="ThreadSingleMessageKeepLast::ThreadSingleMessageKeepLast" ref="ac5e6299f170af6aaf0e3e581304e9314" args="(LPTHREAD_START_ROUTINE function, void *parameter, bool suspended, size_t manualThreadID=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ThreadSingleMessageKeepLast::ThreadSingleMessageKeepLast </td>
          <td>(</td>
          <td class="paramtype">LPTHREAD_START_ROUTINE&nbsp;</td>
          <td class="paramname"> <em>function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>parameter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>suspended</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>manualThreadID</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Constructor. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>function</em>&nbsp;</td><td>Entry point for thread. A pointer to this object will be passed as a parameter. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>parameter</em>&nbsp;</td><td>Parameter to be passed to thread. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>suspended</em>&nbsp;</td><td>If true the thread will not begin execution until <a class="el" href="class_thread_single.html#a5eabc758672cb08b0109d9115b4d2b30" title="Resumes execution of the thread after being suspended.">Resume()</a> is used. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>manualThreadID</em>&nbsp;</td><td>Custom thread ID that can be retrieved by thread (optional, default = 0). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a91d926ec436b2d29678d0da6bc37fef7"></a><!-- doxytag: member="ThreadSingleMessageKeepLast::CleanupLastMessage" ref="a91d926ec436b2d29678d0da6bc37fef7" args="(ThreadMessageItem **lastMessageToActOn)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ThreadSingleMessageKeepLast::CleanupLastMessage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_thread_message_item.html">ThreadMessageItem</a> **&nbsp;</td>
          <td class="paramname"> <em>lastMessageToActOn</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Cleans up the message that was last sent. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>lastMessageToActOn</em>&nbsp;</td><td>Last message to cleanup. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a33163bff070c44bd1d7bcaa68e678698"></a><!-- doxytag: member="ThreadSingleMessageKeepLast::ExtractLastMessage" ref="a33163bff070c44bd1d7bcaa68e678698" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="class_thread_message_item.html">ThreadMessageItem</a> * ThreadSingleMessageKeepLast::ExtractLastMessage </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Extracts the last message that was sent to the controller thread, so that it will not be automatically cleaned up. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>the last message sent. This pointer should be cleaned up using delete. Make sure to set in use by sender to false before attempting to cleanup. </dd>
<dd>
NULL if no message has been sent yet. </dd></dl>

</div>
</div>
<a class="anchor" id="a84eda7c55772bdba5344de44b7ae1f1f"></a><!-- doxytag: member="ThreadSingleMessageKeepLast::GetLastMessage" ref="a84eda7c55772bdba5344de44b7ae1f1f" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="class_thread_message_item.html">ThreadMessageItem</a> * ThreadSingleMessageKeepLast::GetLastMessage </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Retrieves the last message that was sent to the thread. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>the last message sent. This pointer will become invalid when the next message is sent. </dd>
<dd>
NULL if no message has been sent yet. </dd></dl>

</div>
</div>
<a class="anchor" id="a464796f2eb757053e4c3befc9022ab48"></a><!-- doxytag: member="ThreadSingleMessageKeepLast::GetLastMessageToActOn" ref="a464796f2eb757053e4c3befc9022ab48" args="(ThreadMessageItem **customLastMessage)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_thread_message_item.html">ThreadMessageItem</a> ** ThreadSingleMessageKeepLast::GetLastMessageToActOn </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_thread_message_item.html">ThreadMessageItem</a> **&nbsp;</td>
          <td class="paramname"> <em>customLastMessage</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Retrieves the last message that should be acted on. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>customLastMessage</em>&nbsp;</td><td>Non NULL if this local last message should be used, NULL if the global last message should be used.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the last message that should be acted on. </dd></dl>

</div>
</div>
<a class="anchor" id="a75fcc872de92fedf3dc60719d2d44761"></a><!-- doxytag: member="ThreadSingleMessageKeepLast::PostMessageItem" ref="a75fcc872de92fedf3dc60719d2d44761" args="(ThreadMessageItem *message)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ThreadSingleMessageKeepLast::PostMessageItem </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_thread_message_item.html">ThreadMessageItem</a> *&nbsp;</td>
          <td class="paramname"> <em>message</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Posts a message to the thread to be received using <a class="el" href="class_thread_single_message.html#ac6385cefd086e9c40aa28241caa08d09" title="Retrieves a message from the message queue.">ThreadSingleMessage::GetMessageItem()</a>. </p>
<p>We must have this method in order to override base class.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>message</em>&nbsp;</td><td>The message to post. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="class_thread_single_message.html#af5816a537c68ced255d2d8331a1ab641">ThreadSingleMessage</a>.</p>

</div>
</div>
<a class="anchor" id="a27f81a79a325c68fb5257875e074924c"></a><!-- doxytag: member="ThreadSingleMessageKeepLast::PostMessageItem" ref="a27f81a79a325c68fb5257875e074924c" args="(ThreadMessageItem *message, ThreadMessageItem **lastMessage)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ThreadSingleMessageKeepLast::PostMessageItem </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_thread_message_item.html">ThreadMessageItem</a> *&nbsp;</td>
          <td class="paramname"> <em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_thread_message_item.html">ThreadMessageItem</a> **&nbsp;</td>
          <td class="paramname"> <em>customLastMessage</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Posts a message to the thread to be received using <a class="el" href="class_thread_single_message.html#ac6385cefd086e9c40aa28241caa08d09" title="Retrieves a message from the message queue.">ThreadSingleMessage::GetMessageItem()</a>. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>message</em>&nbsp;</td><td>The message to post. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>customLastMessage</em>&nbsp;</td><td>Non NULL if this local last message should be used, NULL if the global last message should be used. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a408f2a12f684c32cb640c3b17f74f933"></a><!-- doxytag: member="ThreadSingleMessageKeepLast::TerminateFriendly" ref="a408f2a12f684c32cb640c3b17f74f933" args="(bool block)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ThreadSingleMessageKeepLast::TerminateFriendly </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>block</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Requests that the thread exits. </p>
<p>The thread is not guaranteed to exit as it may not be checking <a class="el" href="class_thread_single_message.html#a44b112ebedfba5e48ca8384a2db24061" title="Determines whether the thread should exit.">GetTerminateRequest()</a>. If it is performing an operation it may also not exit straight away. Use TerminateForce to guarantee quick thread exit.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>block</em>&nbsp;</td><td>Ignored, will always block. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="class_thread_single_message.html#a070c58a93f28c1a2514506c55e1810fb">ThreadSingleMessage</a>.</p>

</div>
</div>
<a class="anchor" id="adbab8972129d51d509f20d5d575a393b"></a><!-- doxytag: member="ThreadSingleMessageKeepLast::TestClass" ref="adbab8972129d51d509f20d5d575a393b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ThreadSingleMessageKeepLast::TestClass </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Tests class. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if no problems while testing were found, false if not. Note that not all tests automatically check for problems so some tests require manual verification. </dd></dl>

<p>Reimplemented from <a class="el" href="class_thread_single_message.html#a1bd833e3ffcd36b3cfe26648a7e74625">ThreadSingleMessage</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="ae36c3229c8538b56a7fc4740a5d58d4f"></a><!-- doxytag: member="ThreadSingleMessageKeepLast::lastMessage" ref="ae36c3229c8538b56a7fc4740a5d58d4f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_thread_message_item.html">ThreadMessageItem</a>* <a class="el" href="class_thread_single_message_keep_last.html#ae36c3229c8538b56a7fc4740a5d58d4f">ThreadSingleMessageKeepLast::lastMessage</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Last message that was sent to thread. </p>
<p>Only the last message is stored since you would only ever need to poll on the last message. Messages are dealt with in order so by waiting for the last message to complete, you are also waiting for any previous messages to complete. </p>

</div>
</div>
<a class="anchor" id="a5a6db5f1ddd6002413c1424d87ff2152"></a><!-- doxytag: member="ThreadSingleMessageKeepLast::ptrLastMessage" ref="a5a6db5f1ddd6002413c1424d87ff2152" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_thread_message_item.html">ThreadMessageItem</a>** <a class="el" href="class_thread_single_message_keep_last.html#a5a6db5f1ddd6002413c1424d87ff2152">ThreadSingleMessageKeepLast::ptrLastMessage</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Points to <a class="el" href="class_thread_single_message_keep_last.html#ae36c3229c8538b56a7fc4740a5d58d4f" title="Last message that was sent to thread.">ThreadSingleMessageKeepLast::lastMessage</a> or a custom last message. </p>
<p>Points to <a class="el" href="class_thread_single_message_keep_last.html#ae36c3229c8538b56a7fc4740a5d58d4f" title="Last message that was sent to thread.">ThreadSingleMessageKeepLast::lastMessage</a> if <a class="el" href="class_thread_single_message_keep_last.html#a27f81a79a325c68fb5257875e074924c" title="Posts a message to the thread to be received using ThreadSingleMessage::GetMessageItem().">ThreadSingleMessageKeepLast::PostMessageItem</a> is to be used by one thread only. If multiple threads may post messages simultaneously then a local last message should be stored and <a class="el" href="class_thread_single_message_keep_last.html#ae36c3229c8538b56a7fc4740a5d58d4f" title="Last message that was sent to thread.">ThreadSingleMessageKeepLast::lastMessage</a> should be NULL. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>C:/Users/Michael Pryor/Documents/Programming 09/MikeNet/Project/MikeNet/<a class="el" href="_thread_single_message_keep_last_8h_source.html">ThreadSingleMessageKeepLast.h</a></li>
<li>C:/Users/Michael Pryor/Documents/Programming 09/MikeNet/Project/MikeNet/ThreadSingleMessageKeepLast.cpp</li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Friends</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Sat Sep 25 2010 22:10:26 for DarkNet by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
