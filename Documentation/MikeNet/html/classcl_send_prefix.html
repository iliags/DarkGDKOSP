<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>DarkNet: clSendPrefix Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a>  </div>
  <div class="headertitle">
<h1>clSendPrefix Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="clSendPrefix" --><!-- doxytag: inherits="clSharedSend" -->
<p>Send class where packets sent have a prefix.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="cl_send_prefix_8h_source.html">clSendPrefix.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for clSendPrefix:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classcl_send_prefix.png" usemap="#clSendPrefix_map" alt=""/>
  <map id="clSendPrefix_map" name="clSendPrefix_map">
<area href="classcl_shared_send.html" alt="clSharedSend" shape="rect" coords="0,56,104,80"/>
<area href="classcl_critical_section.html" alt="clCriticalSection" shape="rect" coords="0,0,104,24"/>
</map>
</div>

<p><a href="classcl_send_prefix-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcl_send_prefix.html#a3b781cd71fefd4015f209f766a1ca5a0">clSendPrefix</a> (const <a class="el" href="classcl_packet.html">clPacket</a> *<a class="el" href="classcl_send_prefix.html#ab888e85e50e8e1418ab8d74928c963da">packet</a>, bool <a class="el" href="classcl_shared_send.html#aaaf411d2405cc3447a3bc11fe2ab2678">block</a>, const <a class="el" href="classcl_packet.html">clPacket</a> &amp;<a class="el" href="classcl_send_prefix.html#af5e8144995301e9887ffcd23348d8c7e">prefix</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcl_send_prefix.html#ac3f41ae82ff48144fcef35b53d3b5e3c">~clSendPrefix</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">WSABUF *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcl_send_prefix.html#ad9fe2326102e9c43e87e577698580267">GetSendBuffer</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcl_send_prefix.html#ab70ca2f9224334f80a84fb96b22c0cfe">GetSendBufferAmount</a> () const </td></tr>
<tr><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcl_packet.html">clPacket</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcl_send_prefix.html#af5e8144995301e9887ffcd23348d8c7e">prefix</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classcl_packet.html">clPacket</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcl_send_prefix.html#ab888e85e50e8e1418ab8d74928c963da">packet</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">WSABUF&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcl_send_prefix.html#ae96577f7b0648d25bd11b447c7678210">buffers</a> [<a class="el" href="classcl_send_prefix.html#a37563065ef429279830e8d7f59fdcfbe">NUM_BUFFERS</a>]</td></tr>
<tr><td colspan="2"><h2><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcl_send_prefix.html#a37563065ef429279830e8d7f59fdcfbe">NUM_BUFFERS</a> = 2</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Send class where packets sent have a prefix. </p>
<dl class="remark"><dt><b>Remarks:</b></dt><dd>Michael Pryor, 6/28/2010.</dd></dl>
<p>This class is used for sending data with a prefix. <br/>
 This class makes use of scatter/gather I/O to maximize efficiency. </p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a3b781cd71fefd4015f209f766a1ca5a0"></a><!-- doxytag: member="clSendPrefix::clSendPrefix" ref="a3b781cd71fefd4015f209f766a1ca5a0" args="(const clPacket *packet, bool block, const clPacket &amp;prefix)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">clSendPrefix::clSendPrefix </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classcl_packet.html">clPacket</a> *&nbsp;</td>
          <td class="paramname"> <em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classcl_packet.html">clPacket</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>prefix</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Constructor </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>packet</em>&nbsp;</td><td>packet to send </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>block</em>&nbsp;</td><td>if true packet will be sent synchronously, if false packet will be sent asynchronously </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>prefix</em>&nbsp;</td><td>prefix to place at start of packet </td></tr>
  </table>
  </dd>
</dl>

<p><p>this-&gt;prefix will remain valid until this object is destroyed This object won't be destroyed until send operation is completed</p>
<p>If the send operation blocks until completion then the send operation does not need its own buffer because the send operation will be completed before further usage of the packet buffer takes place. The destructor MUST NOT deallocate the buffer memory since this will be done automatically by the destructors of the objects that the buffer points to (we are not doing any copying).</p>
<p>If the send operation does not block until completion then it needs its own buffer, which is allocated from the heap and MUST be deallocated by the destructor. This is necessary because the packet buffer may be used by another thread during sending.</p>
</p>

</div>
</div>
<a class="anchor" id="ac3f41ae82ff48144fcef35b53d3b5e3c"></a><!-- doxytag: member="clSendPrefix::~clSendPrefix" ref="ac3f41ae82ff48144fcef35b53d3b5e3c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">clSendPrefix::~clSendPrefix </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Destructor </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ad9fe2326102e9c43e87e577698580267"></a><!-- doxytag: member="clSendPrefix::GetSendBuffer" ref="ad9fe2326102e9c43e87e577698580267" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">WSABUF * clSendPrefix::GetSendBuffer </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="return"><dt><b>Returns:</b></dt><dd>An array of WSABUF containing data to be sent, by passing to WSASend. </dd></dl>

<p>Implements <a class="el" href="classcl_shared_send.html#a14aee968543a692af33c5d170b2cc1fe">clSharedSend</a>.</p>

</div>
</div>
<a class="anchor" id="ab70ca2f9224334f80a84fb96b22c0cfe"></a><!-- doxytag: member="clSendPrefix::GetSendBufferAmount" ref="ab70ca2f9224334f80a84fb96b22c0cfe" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t clSendPrefix::GetSendBufferAmount </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="return"><dt><b>Returns:</b></dt><dd>The number of elements in the array returned by GetSendBuffer </dd></dl>

<p>Implements <a class="el" href="classcl_shared_send.html#afb9437432c75b81100927297961413a3">clSharedSend</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="ae96577f7b0648d25bd11b447c7678210"></a><!-- doxytag: member="clSendPrefix::buffers" ref="ae96577f7b0648d25bd11b447c7678210" args="[NUM_BUFFERS]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">WSABUF <a class="el" href="classcl_send_prefix.html#ae96577f7b0648d25bd11b447c7678210">clSendPrefix::buffers</a>[<a class="el" href="classcl_send_prefix.html#a37563065ef429279830e8d7f59fdcfbe">NUM_BUFFERS</a>]<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Array of buffers to be sent</p>
<ul>
<li>e0 is packet prefix</li>
<li>e1 is packet data </li>
</ul>

</div>
</div>
<a class="anchor" id="a37563065ef429279830e8d7f59fdcfbe"></a><!-- doxytag: member="clSendPrefix::NUM_BUFFERS" ref="a37563065ef429279830e8d7f59fdcfbe" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const size_t <a class="el" href="classcl_send_prefix.html#a37563065ef429279830e8d7f59fdcfbe">clSendPrefix::NUM_BUFFERS</a> = 2<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Number of elements in buffers array </p>

</div>
</div>
<a class="anchor" id="ab888e85e50e8e1418ab8d74928c963da"></a><!-- doxytag: member="clSendPrefix::packet" ref="ab888e85e50e8e1418ab8d74928c963da" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classcl_packet.html">clPacket</a>* <a class="el" href="classcl_send_prefix.html#ab888e85e50e8e1418ab8d74928c963da">clSendPrefix::packet</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Pointer to packet containing data to be sent </p>

</div>
</div>
<a class="anchor" id="af5e8144995301e9887ffcd23348d8c7e"></a><!-- doxytag: member="clSendPrefix::prefix" ref="af5e8144995301e9887ffcd23348d8c7e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcl_packet.html">clPacket</a> <a class="el" href="classcl_send_prefix.html#af5e8144995301e9887ffcd23348d8c7e">clSendPrefix::prefix</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Stores prefix </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>C:/Users/Michael Pryor/Desktop/Deoxygen Files/Source Files/<a class="el" href="cl_send_prefix_8h_source.html">clSendPrefix.h</a></li>
<li>C:/Users/Michael Pryor/Desktop/Deoxygen Files/Source Files/clSendPrefix.cpp</li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Friends</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Fri Jul 2 2010 10:34:08 for DarkNet by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
