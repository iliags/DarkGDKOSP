<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>DarkNet: clSharedTCP Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle">
<h1>clSharedTCP Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="clSharedTCP" --><!-- doxytag: inherits="clSharedProtocol" -->
<p>TCP protocol class, provides a base for extensions to the protocol by TCP mode classes.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="cl_shared_t_c_p_8h_source.html">clSharedTCP.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for clSharedTCP:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classcl_shared_t_c_p.png" usemap="#clSharedTCP_map" alt=""/>
  <map id="clSharedTCP_map" name="clSharedTCP_map">
<area href="classcl_shared_protocol.html" alt="clSharedProtocol" shape="rect" coords="60,0,170,24"/>
<area href="classcl_int_prefix_t_c_p.html" alt="clIntPrefixTCP" shape="rect" coords="0,112,110,136"/>
<area href="classcl_postfix_t_c_p.html" alt="clPostfixTCP" shape="rect" coords="120,112,230,136"/>
</map>
</div>

<p><a href="classcl_shared_t_c_p-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcl_shared_t_c_p.html#a04c910cf085fe90c1c068e4ab168a7e5">SetAutoResize</a> (bool <a class="el" href="classcl_shared_t_c_p.html#aadfbe0c28871af737963ac9205a71a6c">autoResize</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcl_shared_t_c_p.html#abf8a8bf5fce68d35e34dddec105c8da1">GetAutoResize</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcl_shared_t_c_p.html#a5f170f8a147323bb770e170db6789595">clSharedTCP</a> (size_t partialPacketSize, bool <a class="el" href="classcl_shared_t_c_p.html#aadfbe0c28871af737963ac9205a71a6c">autoResize</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcl_shared_t_c_p.html#a3ace87e7d786ba6cb34dad74f333f5b1">~clSharedTCP</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcl_shared_t_c_p.html#adabdc1a14f20fcfca8624b63f4403b87">clSharedTCP</a> (const <a class="el" href="classcl_shared_t_c_p.html">clSharedTCP</a> &amp;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcl_shared_t_c_p.html">clSharedTCP</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcl_shared_t_c_p.html#a4371884780b5f99b014b94f273b54360">operator=</a> (const <a class="el" href="classcl_shared_t_c_p.html">clSharedTCP</a> &amp;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classcl_store_queue.html">clStoreQueue</a>&lt; <a class="el" href="classcl_packet.html">clPacket</a> &gt; *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcl_shared_t_c_p.html#a3879fd59719106ee3b75fee47a0e289f">GetPacketStore</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcl_shared_t_c_p.html#abf78a0f2aec1c39029fb1535ed15feca">GetPartialPacketCurrentSize</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcl_shared_t_c_p.html#a4a2620ffef0e145c3200acf88c4732aa">GetPacketAmount</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcl_shared_t_c_p.html#ad0781613810b204660f212d37b8c1ce2">GetPartialPacketPercentage</a> () const =0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classcl_shared_t_c_p.html">clSharedTCP</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcl_shared_t_c_p.html#a6fa0b7a67bec9b647a7318a093385c72">Clone</a> () const =0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcl_shared_t_c_p.html#a6122b8fd7b395f2b02e96cace26c6857">GetMaxPacketSize</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcl_shared_t_c_p.html#a481e6add10e776f8a6394001f0b7ec34">ChangeMaxPacketSize</a> (size_t newSize)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcl_shared_t_c_p.html#a199283f27a898d233746b4db6f72d6c3">SetMaxPacketSize</a> (size_t newSize)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcl_shared_t_c_p.html#a6ba0e18bedcdad6989b8b583cd1479c9">ClearPacketStore</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcl_shared_t_c_p.html#a2d035977f40d63299b84c5ce1fc0c5d7">ClearData</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcl_shared_t_c_p.html#aa8cbe170e5162d5047947bd7ef231838">PacketDone</a> (size_t threadID, <a class="el" href="classcl_packet.html">clPacket</a> *completePacket, void(*tcpRecvFunc)(size_t threadID, <a class="el" href="classcl_packet.html">clPacket</a> &amp;packet))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcl_shared_t_c_p.html#aaecebc7d2783bef4309d75aaa22ba8e0">GetPacketFromStore</a> (<a class="el" href="classcl_packet.html">clPacket</a> *destination)</td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcl_packet.html">clPacket</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcl_shared_t_c_p.html#a5bff66a18a60aa4260c87d1e3dbf9658">partialPacket</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcl_status.html">clStatus</a>&lt; bool &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcl_shared_t_c_p.html#aadfbe0c28871af737963ac9205a71a6c">autoResize</a></td></tr>
<tr><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcl_shared_t_c_p.html#ae07aa43b5b0ca2ae3947bfc90f17c2e6">_Copy</a> (const <a class="el" href="classcl_shared_t_c_p.html">clSharedTCP</a> &amp;copyMe)</td></tr>
<tr><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcl_shared_t_c_p.html#a2f584a19a4ba7d93b3a2e3467840c674">constructed</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcl_store_queue.html">clStoreQueue</a>&lt; <a class="el" href="classcl_packet.html">clPacket</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcl_shared_t_c_p.html#a4f9fa934fb8217556dde5f5da38d76af">packetStore</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>TCP protocol class, provides a base for extensions to the protocol by TCP mode classes. </p>
<dl class="remark"><dt><b>Remarks:</b></dt><dd>Michael Pryor, 6/28/2010.</dd></dl>
<p>Should be inherited by TCP mode objects.<br/>
<br/>
</p>
<p>This object describes how received packets should be stored. First any data received is put into <code>partialPacket</code>. Afterwards if any complete packets exist in <code>partialPacket</code>, they are moved to <code>packetStore</code>. Classes derived from this decide how exactly this process is implemented. <br/>
<br/>
</p>
<p>This class is thread safe. </p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a5f170f8a147323bb770e170db6789595"></a><!-- doxytag: member="clSharedTCP::clSharedTCP" ref="a5f170f8a147323bb770e170db6789595" args="(size_t partialPacketSize, bool autoResize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">clSharedTCP::clSharedTCP </td>
          <td>(</td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>partialPacketSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>autoResize</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Constructor Calls <code>Construct</code> which sets up the object ready for use</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>partialPacketSize</em>&nbsp;</td><td>maximum amount of partial data (data that does not make up a full packet) that can be stored (in bytes). <br/>
 Packets larger than this size cannot be received without memory reallocation. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>autoResize</em>&nbsp;</td><td>if true then if a packet larger than <em>partialPacketSize</em> is received then more memory will be allocated so that it can be received. <br/>
 If false then an error will be thrown if a packet larger than <em>partialPacketSize</em> is received. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a3ace87e7d786ba6cb34dad74f333f5b1"></a><!-- doxytag: member="clSharedTCP::~clSharedTCP" ref="a3ace87e7d786ba6cb34dad74f333f5b1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">clSharedTCP::~clSharedTCP </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Destructor <br/>
 Does nothing (which is okay because the destructors of other classes do the work) </p>

</div>
</div>
<a class="anchor" id="adabdc1a14f20fcfca8624b63f4403b87"></a><!-- doxytag: member="clSharedTCP::clSharedTCP" ref="adabdc1a14f20fcfca8624b63f4403b87" args="(const clSharedTCP &amp;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">clSharedTCP::clSharedTCP </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classcl_shared_t_c_p.html">clSharedTCP</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>copyMe</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Copy constructor (deep) </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>copyMe</em>&nbsp;</td><td>object to copy </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ae07aa43b5b0ca2ae3947bfc90f17c2e6"></a><!-- doxytag: member="clSharedTCP::_Copy" ref="ae07aa43b5b0ca2ae3947bfc90f17c2e6" args="(const clSharedTCP &amp;copyMe)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void clSharedTCP::_Copy </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classcl_shared_t_c_p.html">clSharedTCP</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>copyMe</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Copies <em>copyMe</em> into this object (deep) </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>copyMe</em>&nbsp;</td><td>object to copy </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a481e6add10e776f8a6394001f0b7ec34"></a><!-- doxytag: member="clSharedTCP::ChangeMaxPacketSize" ref="a481e6add10e776f8a6394001f0b7ec34" args="(size_t newSize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void clSharedTCP::ChangeMaxPacketSize </td>
          <td>(</td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>newSize</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Changes the the size of the largest packet that can be received, packets larger than this will require an increase in memory size or an exception will be thrown. <br/>
 </p>
<dl class="note"><dt><b>Note:</b></dt><dd>attempting to decrease the size may not be effective. If data exists in the buffer this will not be discarded. The buffer will decrease as much as possible without discarding data</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>newSize</em>&nbsp;</td><td>new size </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a2d035977f40d63299b84c5ce1fc0c5d7"></a><!-- doxytag: member="clSharedTCP::ClearData" ref="a2d035977f40d63299b84c5ce1fc0c5d7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void clSharedTCP::ClearData </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Clears all stored TCP data (packet store and partial packet) <br/>
 The class will be in the same state it was just after <code>Construct</code> was initially used </p>

</div>
</div>
<a class="anchor" id="a6ba0e18bedcdad6989b8b583cd1479c9"></a><!-- doxytag: member="clSharedTCP::ClearPacketStore" ref="a6ba0e18bedcdad6989b8b583cd1479c9" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void clSharedTCP::ClearPacketStore </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Clears only the packet store, completely emptying it </p>

</div>
</div>
<a class="anchor" id="a6fa0b7a67bec9b647a7318a093385c72"></a><!-- doxytag: member="clSharedTCP::Clone" ref="a6fa0b7a67bec9b647a7318a093385c72" args="() const =0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classcl_shared_t_c_p.html">clSharedTCP</a>* clSharedTCP::Clone </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="return"><dt><b>Returns:</b></dt><dd>a deep copy of this object </dd></dl>

<p>Implemented in <a class="el" href="classcl_int_prefix_t_c_p.html#ae81f0dcab68dff359b1cdf5d03974350">clIntPrefixTCP</a>, and <a class="el" href="classcl_postfix_t_c_p.html#ac4d43cd023dd185e2bd3be28b50a6d79">clPostfixTCP</a>.</p>

</div>
</div>
<a class="anchor" id="abf8a8bf5fce68d35e34dddec105c8da1"></a><!-- doxytag: member="clSharedTCP::GetAutoResize" ref="abf8a8bf5fce68d35e34dddec105c8da1" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool clSharedTCP::GetAutoResize </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Retrieves autoResize variable <br/>
</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>When true, if a packet larger than the max TCP packet size is received then the max size will be increased silently. When false, in this case an exception will be thrown. </dd></dl>

</div>
</div>
<a class="anchor" id="a6122b8fd7b395f2b02e96cace26c6857"></a><!-- doxytag: member="clSharedTCP::GetMaxPacketSize" ref="a6122b8fd7b395f2b02e96cace26c6857" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t clSharedTCP::GetMaxPacketSize </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="return"><dt><b>Returns:</b></dt><dd>The size of the largest packet that can be received, packets larger than this will require an increase in memory size or an exception will be thrown </dd></dl>

</div>
</div>
<a class="anchor" id="a4a2620ffef0e145c3200acf88c4732aa"></a><!-- doxytag: member="clSharedTCP::GetPacketAmount" ref="a4a2620ffef0e145c3200acf88c4732aa" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t clSharedTCP::GetPacketAmount </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="return"><dt><b>Returns:</b></dt><dd>the number of fully received packets in the packet store </dd></dl>

</div>
</div>
<a class="anchor" id="aaecebc7d2783bef4309d75aaa22ba8e0"></a><!-- doxytag: member="clSharedTCP::GetPacketFromStore" ref="aaecebc7d2783bef4309d75aaa22ba8e0" args="(clPacket *destination)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t clSharedTCP::GetPacketFromStore </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcl_packet.html">clPacket</a> *&nbsp;</td>
          <td class="paramname"> <em>destination</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Retrieves a complete packet from the packet store and copies it into <em>destination</em> </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>destination</em>&nbsp;</td><td>destination to copy into </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>number of packets in packet store before this method call </dd></dl>

</div>
</div>
<a class="anchor" id="a3879fd59719106ee3b75fee47a0e289f"></a><!-- doxytag: member="clSharedTCP::GetPacketStore" ref="a3879fd59719106ee3b75fee47a0e289f" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classcl_store_queue.html">clStoreQueue</a>&lt; <a class="el" href="classcl_packet.html">clPacket</a> &gt; * clSharedTCP::GetPacketStore </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Retrieves a pointer to the packet store used by this object <br/>
 This pointer will be invalid when this object is destroyed <br/>
 The retrieved object is thread safe</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>pointer to the packet store in use by this object </dd></dl>

</div>
</div>
<a class="anchor" id="abf78a0f2aec1c39029fb1535ed15feca"></a><!-- doxytag: member="clSharedTCP::GetPartialPacketCurrentSize" ref="abf78a0f2aec1c39029fb1535ed15feca" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t clSharedTCP::GetPartialPacketCurrentSize </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="return"><dt><b>Returns:</b></dt><dd>The current size of the partial packet being received <br/>
 i.e. the number of bytes of the packet that have been received </dd></dl>

</div>
</div>
<a class="anchor" id="ad0781613810b204660f212d37b8c1ce2"></a><!-- doxytag: member="clSharedTCP::GetPartialPacketPercentage" ref="ad0781613810b204660f212d37b8c1ce2" args="() const =0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual double clSharedTCP::GetPartialPacketPercentage </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="return"><dt><b>Returns:</b></dt><dd>the percentage of the partial packet that has been received i.e. between 0 and 100 where 50 indicates that half the packet has been received and we are now waiting for the second half to be received </dd></dl>

<p>Implemented in <a class="el" href="classcl_int_prefix_t_c_p.html#a0579e1738807207877c316b7423e25d9">clIntPrefixTCP</a>, and <a class="el" href="classcl_postfix_t_c_p.html#a98bc079655197fb16bd0babd6c077cb3">clPostfixTCP</a>.</p>

</div>
</div>
<a class="anchor" id="a4371884780b5f99b014b94f273b54360"></a><!-- doxytag: member="clSharedTCP::operator=" ref="a4371884780b5f99b014b94f273b54360" args="(const clSharedTCP &amp;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcl_shared_t_c_p.html">clSharedTCP</a> &amp; clSharedTCP::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classcl_shared_t_c_p.html">clSharedTCP</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>copyMe</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Assignment operator (deep) </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>copyMe</em>&nbsp;</td><td>Object to copy </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>reference to this object </dd></dl>

</div>
</div>
<a class="anchor" id="aa8cbe170e5162d5047947bd7ef231838"></a><!-- doxytag: member="clSharedTCP::PacketDone" ref="aa8cbe170e5162d5047947bd7ef231838" args="(size_t threadID, clPacket *completePacket, void(*tcpRecvFunc)(size_t threadID, clPacket &amp;packet))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void clSharedTCP::PacketDone </td>
          <td>(</td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>threadID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcl_packet.html">clPacket</a> *&nbsp;</td>
          <td class="paramname"> <em>completePacket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(size_t threadID, <a class="el" href="classcl_packet.html">clPacket</a> &amp;packet)&nbsp;</td>
          <td class="paramname"> <em>tcpRecvFunc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Takes a complete packet and deals with it in one of two ways:</p>
<ul>
<li>Passes it to user function specified by <em>tcpRecvFunc</em> parameter</li>
<li>If no user function is defined then it is put into a queue to be retrieved using <code>mnRecv</code> commands</li>
</ul>
<p>A special case exists for an instance in client state and handshaking. In this case the packet is always added to the packet queue. This is necassary because the handshaking thread needs to receive TCP data.</p>
<dl class="warning"><dt><b>Warning:</b></dt><dd>if the packet is passed to a user function this is done synchronously, so the method will not return until the user function returns.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>threadID</em>&nbsp;</td><td>ID of thread using this method </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>completePacket</em>&nbsp;</td><td>the complete packet that should be dealt with </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>tcpRecvFunc</em>&nbsp;</td><td>method will be executed and data not added to the queue if this is non NULL </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a04c910cf085fe90c1c068e4ab168a7e5"></a><!-- doxytag: member="clSharedTCP::SetAutoResize" ref="a04c910cf085fe90c1c068e4ab168a7e5" args="(bool autoResize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void clSharedTCP::SetAutoResize </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>paraAutoResize</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets autoResize value <br/>
 When true, if a packet larger than the max TCP packet size is received then the max size will be increased silently. When false, in this case an exception will be thrown.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>paraAutoResize</em>&nbsp;</td><td>value to set autoResize to </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a199283f27a898d233746b4db6f72d6c3"></a><!-- doxytag: member="clSharedTCP::SetMaxPacketSize" ref="a199283f27a898d233746b4db6f72d6c3" args="(size_t newSize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void clSharedTCP::SetMaxPacketSize </td>
          <td>(</td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>newSize</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Manually changes the maximum packet size that can be received </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>newSize</em>&nbsp;</td><td>The size of the largest packet that can be received, packets larger than this will require an increase in memory size or an exception will be thrown </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="aadfbe0c28871af737963ac9205a71a6c"></a><!-- doxytag: member="clSharedTCP::autoResize" ref="aadfbe0c28871af737963ac9205a71a6c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcl_status.html">clStatus</a>&lt;bool&gt; <a class="el" href="classcl_shared_t_c_p.html#aadfbe0c28871af737963ac9205a71a6c">clSharedTCP::autoResize</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>If true, partialPacket will automatically increase memory size as needed Protected by critical section so that it can be changed during runtime </p>

</div>
</div>
<a class="anchor" id="a2f584a19a4ba7d93b3a2e3467840c674"></a><!-- doxytag: member="clSharedTCP::constructed" ref="a2f584a19a4ba7d93b3a2e3467840c674" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classcl_shared_t_c_p.html#a2f584a19a4ba7d93b3a2e3467840c674">clSharedTCP::constructed</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>true when <code>Construct</code> has been used <br/>
 false when <code>Construct</code> has not been used <br/>
 Is used by destructor to decide what to cleanup <br/>
 </p>

</div>
</div>
<a class="anchor" id="a4f9fa934fb8217556dde5f5da38d76af"></a><!-- doxytag: member="clSharedTCP::packetStore" ref="a4f9fa934fb8217556dde5f5da38d76af" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcl_store_queue.html">clStoreQueue</a>&lt;<a class="el" href="classcl_packet.html">clPacket</a>&gt; <a class="el" href="classcl_shared_t_c_p.html#a4f9fa934fb8217556dde5f5da38d76af">clSharedTCP::packetStore</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Stores complete packets </p>

</div>
</div>
<a class="anchor" id="a5bff66a18a60aa4260c87d1e3dbf9658"></a><!-- doxytag: member="clSharedTCP::partialPacket" ref="a5bff66a18a60aa4260c87d1e3dbf9658" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcl_packet.html">clPacket</a> <a class="el" href="classcl_shared_t_c_p.html#a5bff66a18a60aa4260c87d1e3dbf9658">clSharedTCP::partialPacket</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Stores partial packets that are not yet complete <br/>
 These are passed to packetStore when completed </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>C:/Users/Michael Pryor/Desktop/Deoxygen Files/Source Files/<a class="el" href="cl_shared_t_c_p_8h_source.html">clSharedTCP.h</a></li>
<li>C:/Users/Michael Pryor/Desktop/Deoxygen Files/Source Files/clSharedTCP.cpp</li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Friends</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Fri Jul 2 2010 10:34:08 for DarkNet by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
